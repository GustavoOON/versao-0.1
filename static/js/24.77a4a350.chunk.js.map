{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/use-places-autocomplete/dist/index.esm.js","../node_modules/@reach/utils/can-use-dom/dist/reach-utils-can-use-dom.esm.js","../node_modules/@reach/utils/use-isomorphic-layout-effect/dist/reach-utils-use-isomorphic-layout-effect.esm.js","../node_modules/@reach/utils/context/dist/reach-utils-context.esm.js","../node_modules/@reach/utils/type-check/dist/reach-utils-type-check.esm.js","../node_modules/@reach/utils/noop/dist/reach-utils-noop.esm.js","../node_modules/@reach/utils/compose-refs/dist/reach-utils-compose-refs.esm.js","../node_modules/@reach/utils/compose-event-handlers/dist/reach-utils-compose-event-handlers.esm.js","../node_modules/@reach/utils/use-force-update/dist/reach-utils-use-force-update.esm.js","../node_modules/@reach/descendants/dist/reach-descendants.esm.js","../node_modules/@reach/auto-id/dist/reach-auto-id.esm.js","../node_modules/@reach/portal/dist/reach-portal.esm.js","../../src/index.ts","../node_modules/@reach/rect/dist/reach-rect.esm.js","../node_modules/@reach/utils/owner-document/dist/reach-utils-owner-document.esm.js","../node_modules/@reach/popover/dist/reach-popover.esm.js","../node_modules/@reach/combobox/dist/reach-combobox.esm.js","../node_modules/@reach/utils/make-id/dist/reach-utils-make-id.esm.js","../node_modules/@reach/utils/use-update-effect/dist/reach-utils-use-update-effect.esm.js","../node_modules/@reach/utils/use-stateful-ref-value/dist/reach-utils-use-stateful-ref-value.esm.js","../node_modules/tabbable/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/readOnlyError.js"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","_extends","Object","assign","target","i","length","source","prototype","hasOwnProperty","call","useLatest","val","ref","useRef","current","usePlacesAutocomplete","_temp","_ref","requestOptions","_ref$debounce","debounce","_ref$cache","cache","cacheKey","googleMaps","callbackName","_ref$defaultValue","defaultValue","_ref$initOnMount","initOnMount","_useState","useState","ready","setReady","_useState2","setVal","_useState3","loading","status","data","suggestions","setSuggestions","asRef","requestOptionsRef","googleMapsRef","upaCacheKey","init","useCallback","_google$maps","google","window","gMaps","placesLib","places","maps","AutocompleteService","console","clearSuggestions","clearCache","sessionStorage","removeItem","fetchPredictions","delay","timer","_this","_len","Array","_key","clearTimeout","setTimeout","_debounce","prevState","cachedData","JSON","parse","getItem","keys","reduce","acc","maxAge","Date","now","getPlacePredictions","input","setItem","stringify","setValue","shouldFetchData","useEffect","getGeocode","geocoder","Geocoder","geocode","results","address","componentRestrictions","getLatLng","result","_result$geometry$loca","geometry","location","lat","lng","canUseDOM","document","createElement","useIsomorphicLayoutEffect","useLayoutEffect","createNamedContext","name","createContext","isFunction","toString","noop","_arrayLikeToArray","arr","len","arr2","_createForOfIteratorHelperLoose","o","allowArrayLike","it","Symbol","iterator","isArray","minLen","n","slice","constructor","from","test","_unsupportedIterableToArray","TypeError","next","bind","assignRef","Error","useComposedRefs","refs","node","_step","_iterator","composeEventHandlers","theirHandler","ourHandler","event","defaultPrevented","useForceUpdate","dispatch","create","_excluded","createDescendantContext","initialValue","descendants","registerDescendant","unregisterDescendant","DescendantProvider","Ctx","context","children","items","set","_ref2","element","explicitIndex","index","rest","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","newItems","concat","sort","a","b","find","item","findIndex","Boolean","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","newItem","map","filter","Provider","useMemo","serverHandoffComplete","id","genId","Portal","_ref$type","type","containerRef","mountNode","portalNode","forceUpdate","ownerDocument","body","appendChild","removeChild","createPortal","props","observedNodes","run","changedStates","newRect","state","cb","rafId","observe","wasEmpty","rect","hasRectChanged","callbacks","unobserve","cancelAnimationFrame","useRect","nodeRef","observeOrOptions","deprecated_onChange","onChange","_observeOrOptions$obs","_React$useState","setElement","initialRectIsSet","initialRefIsSet","_React$useState2","setRect","onChangeRef","getBoundingClientRect","elem","observer","observeRect","getOwnerDocument","Popover","forwardRef","PopoverImpl","forwardedRef","_ref$as","as","Comp","targetRef","_ref$position","position","positionDefault","_ref$unstable_observa","unstable_observableRefs","popoverRef","popoverRect","hidden","targetRect","triggerRef","handleKeyDown","tabbable","shiftKey","shiftTabbedFromElementAfterTrigger","focusLastTabbableInPopover","shiftTabbedOutOfPopover","focusTriggerRef","shiftTabbedToBrowserChrome","disableTabbablesInPopover","tabbedFromTriggerToPopover","focusFirstPopoverTabbable","tabbedOutOfPopover","focusTabbableAfterTrigger","tabbedToBrowserChrome","getElementAfterTrigger","elements","targetIndex","elementAfterTrigger","contains","activeElement","preventDefault","focus","last","_triggerRef$current","addEventListener","removeEventListener","restoreTabIndexTupl√©s","forEach","push","tabIndex","enableTabbablesInPopover","useSimulateTabNavigationForReactTree","style","getStyles","visibility","getTopPosition","isDirectionUp","top","height","pageYOffset","_getCollisions","getCollisions","directionRight","directionUp","left","right","width","pageXOffset","positionMatchWidth","offsetLeft","offsetBottom","collisions","innerWidth","bottom","innerHeight","directionLeft","directionDown","combineChunks","chunks","first","second","start","processedChunks","nextChunk","prevChunk","pop","end","endIndex","Math","max","highlight","defaultFindChunks","_ref3","autoEscape","caseSensitive","_ref3$sanitize","sanitize","defaultSanitize","searchWords","textToHighlight","searchWord","replace","match","regex","RegExp","exec","lastIndex","fillInChunks","_ref4","chunksToHighlight","totalLength","allChunks","append","chunk","string","_on","_on2","_on3","_on4","_states","HighlightWords","findAll","_ref$caseSensitive","_ref$findChunks","findChunks","_excluded2","_excluded3","_excluded5","IDLE","SUGGESTING","NAVIGATING","INTERACTING","CLEAR","CHANGE","INITIAL_CHANGE","NAVIGATE","SELECT_WITH_KEYBOARD","SELECT_WITH_CLICK","ESCAPE","BLUR","INTERACT","FOCUS","OPEN_WITH_BUTTON","OPEN_WITH_INPUT_CLICK","CLOSE_WITH_BUTTON","stateChart","initial","states","on","reducer","nextState","lastEventType","navigationValue","findNavigationValue","isControlled","stateData","persistSelection","ComboboxDescendantContext","ComboboxContext","OptionContext","Combobox","_data$navigationValue","onSelect","_ref$openOnFocus","openOnFocus","ariaLabel","ariaLabelledby","_useDescendantsInit","options","setOptions","inputRef","buttonRef","autocompletePropRef","persistSelectionRef","_useReducerMachine","chart","initialData","setState","_React$useReducer","useReducer","payload","currentState","useReducerMachine","transition","_inputRef$current2","useFocusManagement","idFromProps","initialId","setId","String","useId","listboxId","join","makeId","isControlledRef","isExpanded","includes","popoverIsExpanded","comboboxId","getDataState","ComboboxInput","_ref2$as","_ref2$selectOnClick","selectOnClick","_ref2$autocomplete","autocomplete","onClick","onKeyDown","onBlur","onFocus","controlledValue","initialControlledValue","controlledValueChangedRef","effect","deps","mounted","useUpdateEffect","_React$useContext","useContext","_React$useContext$dat","selectOnClickRef","useKeyDown","handleBlur","useBlur","handleValueChange","trim","inputValue","makeHash","role","_inputRef$current","select","ComboboxPopover","_ref3$as","_ref3$portal","portal","_ref3$position","_React$useContext2","sharedProps","ComboboxOption","_ref5","_ref5$as","indexProp","_React$useContext4","_useStatefulRefValue","initialState","refValue","useStatefulRefValue","handleRefSet","descendant","values","useDescendant","isActive","ComboboxOptionText","contextValue","str","split","Fragment","ctx","_React$useContext8","_ref7","getFirstOption","getLastOption","prev","_React$useContext9","popover","button","relatedTarget","hash","charCodeAt","toLowerCase","candidateSelectors","candidateSelector","matches","Element","msMatchesSelector","webkitMatchesSelector","el","candidate","candidateTabindex","regularTabbables","orderedTabbables","candidates","querySelectorAll","includeContainer","unshift","isNodeMatchingSelectorTabbable","getTabindex","documentOrder","sortOrderedTabbables","isNodeMatchingSelectorFocusable","isInput","isRadio","checked","nodes","getCheckedRadio","isTabbableRadio","isNonTabbableRadio","disabled","isHiddenInput","offsetParent","getComputedStyle","isHidden","isTabbable","isFocusable","focusableCandidateSelector","tabindexAttr","parseInt","getAttribute","isNaN","contentEditable","isContentEditable","tagName","module","exports","_readOnlyError"],"mappings":"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","file":"static/js/24.77a4a350.chunk.js","sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import { useRef, useState, useCallback, useEffect } from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useLatest = (function (val) {\n  var ref = useRef(val);\n  ref.current = val;\n  return ref;\n});\n\nvar _debounce = (function (fn, delay) {\n  var timer; // eslint-disable-next-line func-names\n\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (timer !== null) {\n      clearTimeout(timer);\n      timer = null;\n    }\n\n    timer = setTimeout(function () {\n      return fn.apply(_this, args);\n    }, delay);\n  };\n});\n\nvar loadApiErr = \"üí° use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library\";\n\nvar usePlacesAutocomplete = function usePlacesAutocomplete(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      requestOptions = _ref.requestOptions,\n      _ref$debounce = _ref.debounce,\n      debounce = _ref$debounce === void 0 ? 200 : _ref$debounce,\n      _ref$cache = _ref.cache,\n      cache = _ref$cache === void 0 ? 24 * 60 * 60 : _ref$cache,\n      cacheKey = _ref.cacheKey,\n      googleMaps = _ref.googleMaps,\n      callbackName = _ref.callbackName,\n      _ref$defaultValue = _ref.defaultValue,\n      defaultValue = _ref$defaultValue === void 0 ? \"\" : _ref$defaultValue,\n      _ref$initOnMount = _ref.initOnMount,\n      initOnMount = _ref$initOnMount === void 0 ? true : _ref$initOnMount;\n\n  var _useState = useState(false),\n      ready = _useState[0],\n      setReady = _useState[1];\n\n  var _useState2 = useState(defaultValue),\n      value = _useState2[0],\n      setVal = _useState2[1];\n\n  var _useState3 = useState({\n    loading: false,\n    status: \"\",\n    data: []\n  }),\n      suggestions = _useState3[0],\n      setSuggestions = _useState3[1];\n\n  var asRef = useRef(null);\n  var requestOptionsRef = useLatest(requestOptions);\n  var googleMapsRef = useLatest(googleMaps);\n  var upaCacheKey = cacheKey ? \"upa-\" + cacheKey : \"upa\";\n  var init = useCallback(function () {\n    var _google$maps;\n\n    if (asRef.current) return;\n    var _window = window,\n        google = _window.google;\n    var gMaps = googleMapsRef.current;\n    var placesLib = (gMaps == null ? void 0 : gMaps.places) || (google == null ? void 0 : (_google$maps = google.maps) == null ? void 0 : _google$maps.places);\n\n    if (!placesLib) {\n      console.error(loadApiErr);\n      return;\n    }\n\n    asRef.current = new placesLib.AutocompleteService();\n    setReady(true);\n  }, []);\n  var clearSuggestions = useCallback(function () {\n    setSuggestions({\n      loading: false,\n      status: \"\",\n      data: []\n    });\n  }, []);\n  var clearCache = useCallback(function () {\n    try {\n      sessionStorage.removeItem(upaCacheKey);\n    } catch (error) {// Skip exception\n    }\n  }, []);\n  var fetchPredictions = useCallback(_debounce(function (val) {\n    if (!val) {\n      clearSuggestions();\n      return;\n    }\n\n    setSuggestions(function (prevState) {\n      return _extends({}, prevState, {\n        loading: true\n      });\n    });\n    var cachedData = {};\n\n    try {\n      cachedData = JSON.parse(sessionStorage.getItem(upaCacheKey) || \"{}\");\n    } catch (error) {// Skip exception\n    }\n\n    if (cache) {\n      cachedData = Object.keys(cachedData).reduce(function (acc, key) {\n        if (cachedData[key].maxAge - Date.now() >= 0) acc[key] = cachedData[key];\n        return acc;\n      }, {});\n\n      if (cachedData[val]) {\n        setSuggestions({\n          loading: false,\n          status: \"OK\",\n          data: cachedData[val].data\n        });\n        return;\n      }\n    } // @ts-expect-error\n\n\n    asRef.current.getPlacePredictions(_extends({}, requestOptionsRef.current, {\n      input: val\n    }), function (data, status) {\n      setSuggestions({\n        loading: false,\n        status: status,\n        data: data || []\n      });\n\n      if (cache && status === \"OK\") {\n        cachedData[val] = {\n          data: data,\n          maxAge: Date.now() + cache * 1000\n        };\n\n        try {\n          sessionStorage.setItem(upaCacheKey, JSON.stringify(cachedData));\n        } catch (error) {// Skip exception\n        }\n      }\n    });\n  }, debounce), [debounce, clearSuggestions]);\n  var setValue = useCallback(function (val, shouldFetchData) {\n    if (shouldFetchData === void 0) {\n      shouldFetchData = true;\n    }\n\n    setVal(val);\n    if (asRef.current && shouldFetchData) fetchPredictions(val);\n  }, [fetchPredictions]);\n  useEffect(function () {\n    if (!initOnMount) return function () {\n      return null;\n    };\n    var _window2 = window,\n        google = _window2.google;\n\n    if (!googleMapsRef.current && !(google != null && google.maps) && callbackName) {\n      window[callbackName] = init;\n    } else {\n      init();\n    }\n\n    return function () {\n      // @ts-expect-error\n      if (window[callbackName]) delete window[callbackName];\n    };\n  }, [callbackName, init]);\n  return {\n    ready: ready,\n    value: value,\n    suggestions: suggestions,\n    setValue: setValue,\n    clearSuggestions: clearSuggestions,\n    clearCache: clearCache,\n    init: init\n  };\n};\n\n/* eslint-disable compat/compat */\nvar geocodeErr = \"üí° use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions.\";\nvar getGeocode = function getGeocode(args) {\n  var geocoder = new window.google.maps.Geocoder();\n  return new Promise(function (resolve, reject) {\n    geocoder.geocode(args, function (results, status) {\n      if (status !== \"OK\") reject(status);\n\n      if (!args.address && args.componentRestrictions) {\n        console.error(geocodeErr);\n        resolve(results);\n      }\n\n      resolve(results);\n    });\n  });\n};\nvar getLatLng = function getLatLng(result) {\n  return new Promise(function (resolve, reject) {\n    try {\n      var _result$geometry$loca = result.geometry.location,\n          lat = _result$geometry$loca.lat,\n          lng = _result$geometry$loca.lng;\n      resolve({\n        lat: lat(),\n        lng: lng()\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\nvar getZipCode = function getZipCode(result, useShortName) {\n  return new Promise(function (resolve, reject) {\n    try {\n      var zipCode = null;\n      result.address_components.forEach(function (_ref) {\n        var long_name = _ref.long_name,\n            short_name = _ref.short_name,\n            types = _ref.types;\n        if (types.includes(\"postal_code\")) zipCode = useShortName ? short_name : long_name;\n      });\n      resolve(zipCode);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\nvar getDetailsErr = \"üí° use-places-autocomplete: Please provide a place Id when using getDetails() either as a string or as part of an Autocomplete Prediction.\";\nvar getDetails = function getDetails(args) {\n  var PlacesService = new window.google.maps.places.PlacesService(document.createElement(\"div\"));\n\n  if (!args.placeId) {\n    console.error(getDetailsErr);\n    return Promise.reject(getDetailsErr);\n  }\n\n  return new Promise(function (resolve, reject) {\n    PlacesService.getDetails(args, function (results, status) {\n      if (status !== \"OK\") reject(status);\n      resolve(results);\n    });\n  });\n};\n\nexport { usePlacesAutocomplete as default, getDetails, getGeocode, getLatLng, getZipCode };\n","function canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n}\n\nexport { canUseDOM };\n","import { useLayoutEffect, useEffect } from 'react';\nimport { canUseDOM } from '../../can-use-dom/dist/reach-utils-can-use-dom.esm.js';\n\n/**\n * React currently throws a warning when using useLayoutEffect on the server. To\n * get around it, we can conditionally useEffect on the server (no-op) and\n * useLayoutEffect in the browser. We occasionally need useLayoutEffect to\n * ensure we don't get a render flash for certain operations, but we may also\n * need affected components to render on the server. One example is when setting\n * a component's descendants to retrieve their index values.\n *\n * Important to note that using this hook as an escape hatch will break the\n * eslint dependency warnings unless you rename the import to `useLayoutEffect`.\n * Use sparingly only when the effect won't effect the rendered HTML to avoid\n * any server/client mismatch.\n *\n * If a useLayoutEffect is needed and the result would create a mismatch, it's\n * likely that the component in question shouldn't be rendered on the server at\n * all, so a better approach would be to lazily render those in a parent\n * component after client-side hydration.\n *\n * https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85\n * https://github.com/reduxjs/react-redux/blob/master/src/utils/useIsomorphicLayoutEffect.js\n *\n * @param effect\n * @param deps\n */\n\nvar useIsomorphicLayoutEffect = /*#__PURE__*/canUseDOM() ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","import { createContext } from 'react';\n\nfunction createNamedContext(name, defaultValue) {\n  var Ctx = /*#__PURE__*/createContext(defaultValue);\n\n  if (process.env.NODE_ENV !== \"production\") {\n    Ctx.displayName = name;\n  }\n\n  return Ctx;\n}\n\nexport { createNamedContext };\n","/**\n * Checks whether or not a value is a boolean.\n *\n * @param value\n */\nfunction isBoolean(value) {\n  return typeof value === \"boolean\";\n}\n/**\n * Checks whether or not a value is a function.\n *\n * @param value\n */\n\nfunction isFunction(value) {\n  // eslint-disable-next-line eqeqeq\n  return !!(value && {}.toString.call(value) == \"[object Function]\");\n}\n/**\n * Checks whether or not a value is a number.\n *\n * @param value\n */\n\nfunction isNumber(value) {\n  return typeof value === \"number\" && !isNaN(value);\n}\n/**\n * Checks whether or not a value is a string.\n *\n * @param value\n */\n\nfunction isString(value) {\n  return typeof value === \"string\";\n}\n\nexport { isBoolean, isFunction, isNumber, isString };\n","function noop() {}\n\nexport { noop };\n","import { useCallback } from 'react';\nimport { isFunction } from '../../type-check/dist/reach-utils-type-check.esm.js';\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  it = o[Symbol.iterator]();\n  return it.next.bind(it);\n}\n\n/**\n * Passes or assigns an arbitrary value to a ref function or object.\n *\n * @param ref\n * @param value\n */\nfunction assignRef(ref, value) {\n  if (ref == null) return;\n\n  if (isFunction(ref)) {\n    ref(value);\n  } else {\n    try {\n      ref.current = value;\n    } catch (error) {\n      throw new Error(\"Cannot assign value \\\"\" + value + \"\\\" to ref \\\"\" + ref + \"\\\"\");\n    }\n  }\n}\n/**\n * Passes or assigns a value to multiple refs (typically a DOM node). Useful for\n * dealing with components that need an explicit ref for DOM calculations but\n * also forwards refs assigned by an app.\n *\n * @param refs Refs to fork\n */\n\nfunction useComposedRefs() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return useCallback(function (node) {\n    for (var _iterator = _createForOfIteratorHelperLoose(refs), _step; !(_step = _iterator()).done;) {\n      var ref = _step.value;\n      assignRef(ref, node);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, refs);\n}\n\nexport { assignRef, useComposedRefs };\n","/**\n * Wraps a lib-defined event handler and a user-defined event handler, returning\n * a single handler that allows a user to prevent lib-defined handlers from\n * firing.\n *\n * @param theirHandler User-supplied event handler\n * @param ourHandler Library-supplied event handler\n */\nfunction composeEventHandlers(theirHandler, ourHandler) {\n  return function (event) {\n    theirHandler && theirHandler(event);\n\n    if (!event.defaultPrevented) {\n      return ourHandler(event);\n    }\n  };\n}\n\nexport { composeEventHandlers };\n","import { useState, useCallback } from 'react';\n\n/**\n * Forces a re-render, similar to `forceUpdate` in class components.\n */\n\nfunction useForceUpdate() {\n  var _useState = useState(Object.create(null)),\n      dispatch = _useState[1];\n\n  return useCallback(function () {\n    dispatch(Object.create(null));\n  }, []);\n}\n\nexport { useForceUpdate };\n","import { useContext, useState, useCallback, createElement, useMemo } from 'react';\nimport { useForceUpdate } from '@reach/utils/use-force-update';\nimport { useIsomorphicLayoutEffect } from '@reach/utils/use-isomorphic-layout-effect';\nimport { createNamedContext } from '@reach/utils/context';\nimport { noop } from '@reach/utils/noop';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar _excluded = [\"element\", \"index\"];\n\nfunction createDescendantContext(name, initialValue) {\n  if (initialValue === void 0) {\n    initialValue = {};\n  }\n\n  var descendants = [];\n  return createNamedContext(name, _extends({\n    descendants: descendants,\n    registerDescendant: noop,\n    unregisterDescendant: noop\n  }, initialValue));\n}\n/**\n * This hook registers our descendant by passing it into an array. We can then\n * search that array by to find its index when registering it in the component.\n * We use this for focus management, keyboard navigation, and typeahead\n * functionality for some components.\n *\n * The hook accepts the element node and (optionally) a key. The key is useful\n * if multiple descendants have identical text values and we need to\n * differentiate siblings for some reason.\n *\n * Our main goals with this are:\n *   1) maximum composability,\n *   2) minimal API friction\n *   3) SSR compatibility*\n *   4) concurrent safe\n *   5) index always up-to-date with the tree despite changes\n *   6) works with memoization of any component in the tree (hopefully)\n *\n * As for SSR, the good news is that we don't actually need the index on the\n * server for most use-cases, as we are only using it to determine the order of\n * composed descendants for keyboard navigation. However, in the few cases where\n * this is not the case, we can require an explicit index from the app.\n */\n\n\nfunction useDescendant(descendant, context, indexProp) {\n  var forceUpdate = useForceUpdate();\n\n  var _React$useContext = useContext(context),\n      registerDescendant = _React$useContext.registerDescendant,\n      unregisterDescendant = _React$useContext.unregisterDescendant,\n      descendants = _React$useContext.descendants; // This will initially return -1 because we haven't registered the descendant\n  // on the first render. After we register, this will then return the correct\n  // index on the following render and we will re-register descendants so that\n  // everything is up-to-date before the user interacts with a collection.\n\n\n  var index = indexProp != null ? indexProp : descendants.findIndex(function (item) {\n    return item.element === descendant.element;\n  }); // Prevent any flashing\n\n  useIsomorphicLayoutEffect(function () {\n    if (!descendant.element) forceUpdate();\n    registerDescendant(_extends({}, descendant, {\n      index: index\n    }));\n    return function () {\n      unregisterDescendant(descendant.element);\n    };\n  }, [descendant, forceUpdate, index, registerDescendant, unregisterDescendant].concat(Object.values(descendant)));\n  return index;\n}\n\nfunction useDescendantsInit() {\n  return useState([]);\n}\n\nfunction useDescendants(ctx) {\n  return useContext(ctx).descendants;\n}\n\nfunction DescendantProvider(_ref) {\n  var Ctx = _ref.context,\n      children = _ref.children,\n      items = _ref.items,\n      set = _ref.set;\n  var registerDescendant = useCallback(function (_ref2) {\n    var element = _ref2.element,\n        explicitIndex = _ref2.index,\n        rest = _objectWithoutPropertiesLoose(_ref2, _excluded);\n\n    if (!element) {\n      return;\n    }\n\n    set(function (items) {\n      var newItems;\n\n      if (explicitIndex != null) {\n        return [].concat(items, [_extends({}, rest, {\n          element: element,\n          index: explicitIndex\n        })]).sort(function (a, b) {\n          return a.index - b.index;\n        });\n      } else if (items.length === 0) {\n        // If there are no items, register at index 0 and bail.\n        newItems = [_extends({}, rest, {\n          element: element,\n          index: 0\n        })];\n      } else if (items.find(function (item) {\n        return item.element === element;\n      })) {\n        // If the element is already registered, just use the same array\n        newItems = items;\n      } else {\n        // When registering a descendant, we need to make sure we insert in\n        // into the array in the same order that it appears in the DOM. So as\n        // new descendants are added or maybe some are removed, we always know\n        // that the array is up-to-date and correct.\n        //\n        // So here we look at our registered descendants and see if the new\n        // element we are adding appears earlier than an existing descendant's\n        // DOM node via `node.compareDocumentPosition`. If it does, we insert\n        // the new element at this index. Because `registerDescendant` will be\n        // called in an effect every time the descendants state value changes,\n        // we should be sure that this index is accurate when descendent\n        // elements come or go from our component.\n        var index = items.findIndex(function (item) {\n          if (!item.element || !element) {\n            return false;\n          } // Does this element's DOM node appear before another item in the\n          // array in our DOM tree? If so, return true to grab the index at\n          // this point in the array so we know where to insert the new\n          // element.\n\n\n          return Boolean(item.element.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_PRECEDING);\n        });\n\n        var newItem = _extends({}, rest, {\n          element: element,\n          index: index\n        }); // If an index is not found we will push the element to the end.\n\n\n        if (index === -1) {\n          newItems = [].concat(items, [newItem]);\n        } else {\n          newItems = [].concat(items.slice(0, index), [newItem], items.slice(index));\n        }\n      }\n\n      return newItems.map(function (item, index) {\n        return _extends({}, item, {\n          index: index\n        });\n      });\n    });\n  }, // set is a state setter initialized by the useDescendantsInit hook.\n  // We can safely ignore the lint warning here because it will not change\n  // between renders.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  var unregisterDescendant = useCallback(function (element) {\n    if (!element) {\n      return;\n    }\n\n    set(function (items) {\n      return items.filter(function (item) {\n        return element !== item.element;\n      });\n    });\n  }, // set is a state setter initialized by the useDescendantsInit hook.\n  // We can safely ignore the lint warning here because it will not change\n  // between renders.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  return /*#__PURE__*/createElement(Ctx.Provider, {\n    value: useMemo(function () {\n      return {\n        descendants: items,\n        registerDescendant: registerDescendant,\n        unregisterDescendant: unregisterDescendant\n      };\n    }, [items, registerDescendant, unregisterDescendant])\n  }, children);\n}\n/**\n * Testing this as an abstraction for compound components that use keyboard\n * navigation. Hoping this will help us prevent bugs and mismatched behavior\n * across various components, but it may also prove to be too messy of an\n * abstraction in the end.\n *\n * Currently used in:\n *   - Tabs\n *   - Accordion\n *\n * @param context\n * @param options\n */\n\n\nfunction useDescendantKeyDown(context, options) {\n  var _React$useContext2 = useContext(context),\n      descendants = _React$useContext2.descendants;\n\n  var callback = options.callback,\n      currentIndex = options.currentIndex,\n      filter = options.filter,\n      _options$key = options.key,\n      key = _options$key === void 0 ? \"index\" : _options$key,\n      _options$orientation = options.orientation,\n      orientation = _options$orientation === void 0 ? \"vertical\" : _options$orientation,\n      _options$rotate = options.rotate,\n      rotate = _options$rotate === void 0 ? true : _options$rotate,\n      _options$rtl = options.rtl,\n      rtl = _options$rtl === void 0 ? false : _options$rtl;\n  return function handleKeyDown(event) {\n    if (![\"ArrowDown\", \"ArrowUp\", \"ArrowLeft\", \"ArrowRight\", \"PageUp\", \"PageDown\", \"Home\", \"End\"].includes(event.key)) {\n      return;\n    }\n\n    var index = currentIndex != null ? currentIndex : -1; // If we use a filter function, we need to re-index our descendants array\n    // so that filtered descendent elements aren't selected.\n\n    var selectableDescendants = filter ? descendants.filter(filter) : descendants; // We need some options for any of this to work!\n\n    if (!selectableDescendants.length) {\n      return;\n    }\n\n    var selectableIndex = selectableDescendants.findIndex(function (descendant) {\n      return descendant.index === currentIndex;\n    });\n\n    function getNextOption() {\n      var atBottom = index === getLastOption().index;\n      return atBottom ? rotate ? getFirstOption() : selectableDescendants[selectableIndex] : selectableDescendants[(selectableIndex + 1) % selectableDescendants.length];\n    }\n\n    function getPreviousOption() {\n      var atTop = index === getFirstOption().index;\n      return atTop ? rotate ? getLastOption() : selectableDescendants[selectableIndex] : selectableDescendants[(selectableIndex - 1 + selectableDescendants.length) % selectableDescendants.length];\n    }\n\n    function getFirstOption() {\n      return selectableDescendants[0];\n    }\n\n    function getLastOption() {\n      return selectableDescendants[selectableDescendants.length - 1];\n    }\n\n    switch (event.key) {\n      case \"ArrowDown\":\n        if (orientation === \"vertical\" || orientation === \"both\") {\n          event.preventDefault();\n          var next = getNextOption();\n          callback(key === \"option\" ? next : next[key]);\n        }\n\n        break;\n\n      case \"ArrowUp\":\n        if (orientation === \"vertical\" || orientation === \"both\") {\n          event.preventDefault();\n          var prev = getPreviousOption();\n          callback(key === \"option\" ? prev : prev[key]);\n        }\n\n        break;\n\n      case \"ArrowLeft\":\n        if (orientation === \"horizontal\" || orientation === \"both\") {\n          event.preventDefault();\n          var nextOrPrev = (rtl ? getNextOption : getPreviousOption)();\n          callback(key === \"option\" ? nextOrPrev : nextOrPrev[key]);\n        }\n\n        break;\n\n      case \"ArrowRight\":\n        if (orientation === \"horizontal\" || orientation === \"both\") {\n          event.preventDefault();\n          var prevOrNext = (rtl ? getPreviousOption : getNextOption)();\n          callback(key === \"option\" ? prevOrNext : prevOrNext[key]);\n        }\n\n        break;\n\n      case \"PageUp\":\n        event.preventDefault();\n        var prevOrFirst = (event.ctrlKey ? getPreviousOption : getFirstOption)();\n        callback(key === \"option\" ? prevOrFirst : prevOrFirst[key]);\n        break;\n\n      case \"Home\":\n        event.preventDefault();\n        var first = getFirstOption();\n        callback(key === \"option\" ? first : first[key]);\n        break;\n\n      case \"PageDown\":\n        event.preventDefault();\n        var nextOrLast = (event.ctrlKey ? getNextOption : getLastOption)();\n        callback(key === \"option\" ? nextOrLast : nextOrLast[key]);\n        break;\n\n      case \"End\":\n        event.preventDefault();\n        var last = getLastOption();\n        callback(key === \"option\" ? last : last[key]);\n        break;\n    }\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\nexport { DescendantProvider, createDescendantContext, useDescendant, useDescendantKeyDown, useDescendants, useDescendantsInit };\n","import { useState, useEffect } from 'react';\nimport { useIsomorphicLayoutEffect } from '@reach/utils/use-isomorphic-layout-effect';\n\n/*\n * Welcome to @reach/auto-id!\n\n * Let's see if we can make sense of why this hook exists and its\n * implementation.\n *\n * Some background:\n *   1. Accessibility APIs rely heavily on element IDs\n *   2. Requiring developers to put IDs on every element in Reach UI is both\n *      cumbersome and error-prone\n *   3. With a component model, we can generate IDs for them!\n *\n * Solution 1: Generate random IDs.\n *\n * This works great as long as you don't server render your app. When React (in\n * the client) tries to reuse the markup from the server, the IDs won't match\n * and React will then recreate the entire DOM tree.\n *\n * Solution 2: Increment an integer\n *\n * This sounds great. Since we're rendering the exact same tree on the server\n * and client, we can increment a counter and get a deterministic result between\n * client and server. Also, JS integers can go up to nine-quadrillion. I'm\n * pretty sure the tab will be closed before an app never needs\n * 10 quadrillion IDs!\n *\n * Problem solved, right?\n *\n * Ah, but there's a catch! React's concurrent rendering makes this approach\n * non-deterministic. While the client and server will end up with the same\n * elements in the end, depending on suspense boundaries (and possibly some user\n * input during the initial render) the incrementing integers won't always match\n * up.\n *\n * Solution 3: Don't use IDs at all on the server; patch after first render.\n *\n * What we've done here is solution 2 with some tricks. With this approach, the\n * ID returned is an empty string on the first render. This way the server and\n * client have the same markup no matter how wild the concurrent rendering may\n * have gotten.\n *\n * After the render, we patch up the components with an incremented ID. This\n * causes a double render on any components with `useId`. Shouldn't be a problem\n * since the components using this hook should be small, and we're only updating\n * the ID attribute on the DOM, nothing big is happening.\n *\n * It doesn't have to be an incremented number, though--we could do generate\n * random strings instead, but incrementing a number is probably the cheapest\n * thing we can do.\n *\n * Additionally, we only do this patchup on the very first client render ever.\n * Any calls to `useId` that happen dynamically in the client will be\n * populated immediately with a value. So, we only get the double render after\n * server hydration and never again, SO BACK OFF ALRIGHT?\n */\nvar serverHandoffComplete = false;\nvar id = 0;\n\nvar genId = function genId() {\n  return ++id;\n};\n/**\n * useId\n *\n * Autogenerate IDs to facilitate WAI-ARIA and server rendering.\n *\n * Note: The returned ID will initially be `null` and will update after a\n * component mounts. Users may need to supply their own ID if they need\n * consistent values for SSR.\n *\n * @see Docs https://reach.tech/auto-id\n */\n\n\nfunction useId(idFromProps) {\n  /*\n   * If this instance isn't part of the initial render, we don't have to do the\n   * double render/patch-up dance. We can just generate the ID and return it.\n   */\n  var initialId = idFromProps || (serverHandoffComplete ? genId() : null);\n\n  var _React$useState = useState(initialId),\n      id = _React$useState[0],\n      setId = _React$useState[1];\n\n  useIsomorphicLayoutEffect(function () {\n    if (id === null) {\n      /*\n       * Patch the ID after render. We do this in `useLayoutEffect` to avoid any\n       * rendering flicker, though it'll make the first render slower (unlikely\n       * to matter, but you're welcome to measure your app and let us know if\n       * it's a problem).\n       */\n      setId(genId());\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  useEffect(function () {\n    if (serverHandoffComplete === false) {\n      /*\n       * Flag all future uses of `useId` to skip the update dance. This is in\n       * `useEffect` because it goes after `useLayoutEffect`, ensuring we don't\n       * accidentally bail out of the patch-up dance prematurely.\n       */\n      serverHandoffComplete = true;\n    }\n  }, []);\n  return id != null ? String(id) : undefined;\n}\n\nexport { useId };\n","import { useRef, useEffect, createElement } from 'react';\nimport { useIsomorphicLayoutEffect } from '@reach/utils/use-isomorphic-layout-effect';\nimport { useForceUpdate } from '@reach/utils/use-force-update';\nimport { createPortal } from 'react-dom';\nimport warning from 'tiny-warning';\n\n/**\n * Welcome to @reach/portal!\n *\n * Creates and appends a DOM node to the end of `document.body` and renders a\n * React tree into it. Useful for rendering a natural React element hierarchy\n * with a different DOM hierarchy to prevent parent styles from clipping or\n * hiding content (for popovers, dropdowns, and modals).\n *\n * @see Docs   https://reach.tech/portal\n * @see Source https://github.com/reach/reach-ui/tree/main/packages/portal\n * @see React  https://reactjs.org/docs/portals.html\n */\n/**\n * Portal\n *\n * @see Docs https://reach.tech/portal#portal\n */\n\nvar Portal = function Portal(_ref) {\n  var children = _ref.children,\n      _ref$type = _ref.type,\n      type = _ref$type === void 0 ? \"reach-portal\" : _ref$type,\n      containerRef = _ref.containerRef;\n  var mountNode = useRef(null);\n  var portalNode = useRef(null);\n  var forceUpdate = useForceUpdate();\n\n  if (process.env.NODE_ENV !== \"production\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(function () {\n      if (containerRef != null) {\n        process.env.NODE_ENV !== \"production\" ? warning(typeof containerRef === \"object\" && \"current\" in containerRef, \"@reach/portal: Invalid value passed to the `containerRef` of a \" + \"`Portal`. The portal will be appended to the document body, but if \" + \"you want to attach it to another DOM node you must pass a valid \" + \"React ref object to `containerRef`.\") : void 0;\n        process.env.NODE_ENV !== \"production\" ? warning(containerRef ? containerRef.current != null : true, \"@reach/portal: A ref was passed to the `containerRef` prop of a \" + \"`Portal`, but no DOM node was attached to it. Be sure to pass the \" + \"ref to a DOM component.\\n\\nIf you are forwarding the ref from \" + \"another component, be sure to use the React.forwardRef API. \" + \"See https://reactjs.org/docs/forwarding-refs.html.\") : void 0;\n      }\n    }, [containerRef]);\n  }\n\n  useIsomorphicLayoutEffect(function () {\n    // This ref may be null when a hot-loader replaces components on the page\n    if (!mountNode.current) return; // It's possible that the content of the portal has, itself, been portaled.\n    // In that case, it's important to append to the correct document element.\n\n    var ownerDocument = mountNode.current.ownerDocument;\n    var body = (containerRef == null ? void 0 : containerRef.current) || ownerDocument.body;\n    portalNode.current = ownerDocument == null ? void 0 : ownerDocument.createElement(type);\n    body.appendChild(portalNode.current);\n    forceUpdate();\n    return function () {\n      if (portalNode.current && body) {\n        body.removeChild(portalNode.current);\n      }\n    };\n  }, [type, forceUpdate, containerRef]);\n  return portalNode.current ? /*#__PURE__*/createPortal(children, portalNode.current) : /*#__PURE__*/createElement(\"span\", {\n    ref: mountNode\n  });\n};\n/**\n * @see Docs https://reach.tech/portal#portal-props\n */\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  Portal.displayName = \"Portal\";\n} ////////////////////////////////////////////////////////////////////////////////\n\nexport default Portal;\nexport { Portal };\n","let props: (keyof DOMRect)[] = [\n\t\"bottom\",\n\t\"height\",\n\t\"left\",\n\t\"right\",\n\t\"top\",\n\t\"width\",\n];\n\nlet rectChanged = (a: DOMRect = {} as DOMRect, b: DOMRect = {} as DOMRect) =>\n\tprops.some((prop) => a[prop] !== b[prop]);\n\nlet observedNodes = new Map<Element, RectProps>();\nlet rafId: number;\n\nlet run = () => {\n\tconst changedStates: RectProps[] = [];\n\tobservedNodes.forEach((state, node) => {\n\t\tlet newRect = node.getBoundingClientRect();\n\t\tif (rectChanged(newRect, state.rect)) {\n\t\t\tstate.rect = newRect;\n\t\t\tchangedStates.push(state);\n\t\t}\n\t});\n\n\tchangedStates.forEach((state) => {\n\t\tstate.callbacks.forEach((cb) => cb(state.rect));\n\t});\n\n\trafId = window.requestAnimationFrame(run);\n};\n\nexport default function observeRect(\n\tnode: Element,\n\tcb: (rect: DOMRect) => void\n) {\n\treturn {\n\t\tobserve() {\n\t\t\tlet wasEmpty = observedNodes.size === 0;\n\t\t\tif (observedNodes.has(node)) {\n\t\t\t\tobservedNodes.get(node)!.callbacks.push(cb);\n\t\t\t} else {\n\t\t\t\tobservedNodes.set(node, {\n\t\t\t\t\trect: undefined,\n\t\t\t\t\thasRectChanged: false,\n\t\t\t\t\tcallbacks: [cb],\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (wasEmpty) run();\n\t\t},\n\n\t\tunobserve() {\n\t\t\tlet state = observedNodes.get(node);\n\t\t\tif (state) {\n\t\t\t\t// Remove the callback\n\t\t\t\tconst index = state.callbacks.indexOf(cb);\n\t\t\t\tif (index >= 0) state.callbacks.splice(index, 1);\n\n\t\t\t\t// Remove the node reference\n\t\t\t\tif (!state.callbacks.length) observedNodes.delete(node);\n\n\t\t\t\t// Stop the loop\n\t\t\t\tif (!observedNodes.size) cancelAnimationFrame(rafId);\n\t\t\t}\n\t\t},\n\t};\n}\n\nexport type PartialRect = Partial<DOMRect>;\n\nexport type RectProps = {\n\trect: DOMRect | undefined;\n\thasRectChanged: boolean;\n\tcallbacks: Function[];\n};\n","import { useRef, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport observeRect from '@reach/observe-rect';\nimport { useIsomorphicLayoutEffect } from '@reach/utils/use-isomorphic-layout-effect';\nimport { isBoolean, isFunction } from '@reach/utils/type-check';\nimport warning from 'tiny-warning';\n\n/**\n * Welcome to @reach/rect!\n *\n * Measures DOM elements (aka. bounding client rect).\n *\n * @see getBoundingClientRect https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect\n * @see Docs                  https://reach.tech/rect\n * @see Source                https://github.com/reach/reach-ui/tree/main/packages/rect\n */\n\n/**\n * Rect\n *\n * @param props\n */\n\nvar Rect = function Rect(_ref) {\n  var onChange = _ref.onChange,\n      _ref$observe = _ref.observe,\n      observe = _ref$observe === void 0 ? true : _ref$observe,\n      children = _ref.children;\n  var ref = useRef(null);\n  var rect = useRect(ref, {\n    observe: observe,\n    onChange: onChange\n  });\n  return children({\n    ref: ref,\n    rect: rect\n  });\n};\n/**\n * @see Docs https://reach.tech/rect#rect-props\n */\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  Rect.displayName = \"Rect\";\n  Rect.propTypes = {\n    children: PropTypes.func.isRequired,\n    observe: PropTypes.bool,\n    onChange: PropTypes.func\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\n\n/**\n * useRect\n *\n * @param nodeRef\n * @param observe\n * @param onChange\n */\nfunction useRect(nodeRef, observeOrOptions, deprecated_onChange) {\n  var observe;\n  var onChange;\n\n  if (isBoolean(observeOrOptions)) {\n    observe = observeOrOptions;\n  } else {\n    var _observeOrOptions$obs;\n\n    observe = (_observeOrOptions$obs = observeOrOptions == null ? void 0 : observeOrOptions.observe) != null ? _observeOrOptions$obs : true;\n    onChange = observeOrOptions == null ? void 0 : observeOrOptions.onChange;\n  }\n\n  if (isFunction(deprecated_onChange)) {\n    onChange = deprecated_onChange;\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(function () {\n      process.env.NODE_ENV !== \"production\" ? warning(!isBoolean(observeOrOptions), \"Passing `observe` as the second argument to `useRect` is deprecated and will be removed in a future version of Reach UI. Instead, you can pass an object of options with an `observe` property as the second argument (`useRect(ref, { observe })`).\\n\" + \"See https://reach.tech/rect#userect-observe\") : void 0;\n    }, [observeOrOptions]); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n    useEffect(function () {\n      process.env.NODE_ENV !== \"production\" ? warning(!isFunction(deprecated_onChange), \"Passing `onChange` as the third argument to `useRect` is deprecated and will be removed in a future version of Reach UI. Instead, you can pass an object of options with an `onChange` property as the second argument (`useRect(ref, { onChange })`).\\n\" + \"See https://reach.tech/rect#userect-onchange\") : void 0;\n    }, [deprecated_onChange]);\n  }\n\n  var _React$useState = useState(nodeRef.current),\n      element = _React$useState[0],\n      setElement = _React$useState[1];\n\n  var initialRectIsSet = useRef(false);\n  var initialRefIsSet = useRef(false);\n\n  var _React$useState2 = useState(null),\n      rect = _React$useState2[0],\n      setRect = _React$useState2[1];\n\n  var onChangeRef = useRef(onChange); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  useIsomorphicLayoutEffect(function () {\n    onChangeRef.current = onChange;\n\n    if (nodeRef.current !== element) {\n      setElement(nodeRef.current);\n    }\n  });\n  useIsomorphicLayoutEffect(function () {\n    if (element && !initialRectIsSet.current) {\n      initialRectIsSet.current = true;\n      setRect(element.getBoundingClientRect());\n    }\n  }, [element]);\n  useIsomorphicLayoutEffect(function () {\n    if (!observe) {\n      return;\n    }\n\n    var elem = element; // State initializes before refs are placed, meaning the element state will\n    // be undefined on the first render. We still want the rect on the first\n    // render, so initially we'll use the nodeRef that was passed instead of\n    // state for our measurements.\n\n    if (!initialRefIsSet.current) {\n      initialRefIsSet.current = true;\n      elem = nodeRef.current;\n    }\n\n    if (!elem) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn(\"You need to place the ref\");\n      }\n\n      return;\n    }\n\n    var observer = observeRect(elem, function (rect) {\n      onChangeRef.current == null ? void 0 : onChangeRef.current(rect);\n      setRect(rect);\n    });\n    observer.observe();\n    return function () {\n      observer.unobserve();\n    };\n  }, [observe, element, nodeRef]);\n  return rect;\n}\n\nexport default Rect;\nexport { Rect, useRect };\n","import { canUseDOM } from '../../can-use-dom/dist/reach-utils-can-use-dom.esm.js';\n\n/**\n * Get an element's owner document. Useful when components are used in iframes\n * or other environments like dev tools.\n *\n * @param element\n */\n\nfunction getOwnerDocument(element) {\n  return canUseDOM() ? element ? element.ownerDocument : document : null;\n}\n/**\n * TODO: Remove in 1.0\n */\n\nfunction getOwnerWindow(element) {\n  var ownerDocument = getOwnerDocument(element);\n  return ownerDocument ? ownerDocument.defaultView || window : null;\n}\n\nexport { getOwnerDocument, getOwnerWindow };\n","import { forwardRef, createElement, useRef, useEffect } from 'react';\nimport { Portal } from '@reach/portal';\nimport { useRect } from '@reach/rect';\nimport { getOwnerDocument } from '@reach/utils/owner-document';\nimport { useComposedRefs } from '@reach/utils/compose-refs';\nimport tabbable from 'tabbable';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar _excluded = [\"as\", \"targetRef\", \"position\", \"unstable_observableRefs\"];\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Popover\n */\nvar Popover = /*#__PURE__*/forwardRef(function Popover(props, ref) {\n  return /*#__PURE__*/createElement(Portal, null, /*#__PURE__*/createElement(PopoverImpl, _extends({\n    ref: ref\n  }, props)));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  Popover.displayName = \"Popover\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * PopoverImpl\n *\n * Popover is conditionally rendered so we can't start measuring until it shows\n * up, so useRect needs to live down here not up in Popover\n */\n\n\nvar PopoverImpl = /*#__PURE__*/forwardRef(function PopoverImpl(_ref, forwardedRef) {\n  var _ref$as = _ref.as,\n      Comp = _ref$as === void 0 ? \"div\" : _ref$as,\n      targetRef = _ref.targetRef,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? positionDefault : _ref$position,\n      _ref$unstable_observa = _ref.unstable_observableRefs,\n      unstable_observableRefs = _ref$unstable_observa === void 0 ? [] : _ref$unstable_observa,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var popoverRef = useRef(null);\n  var popoverRect = useRect(popoverRef, {\n    observe: !props.hidden\n  });\n  var targetRect = useRect(targetRef, {\n    observe: !props.hidden\n  });\n  var ref = useComposedRefs(popoverRef, forwardedRef);\n  useSimulateTabNavigationForReactTree(targetRef, popoverRef);\n  return /*#__PURE__*/createElement(Comp, _extends({\n    \"data-reach-popover\": \"\",\n    ref: ref\n  }, props, {\n    style: _extends({\n      position: \"absolute\"\n    }, getStyles.apply(void 0, [position, targetRect, popoverRect].concat(unstable_observableRefs)), props.style)\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  PopoverImpl.displayName = \"PopoverImpl\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n\nfunction getStyles(position, targetRect, popoverRect) {\n  for (var _len = arguments.length, unstable_observableRefs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    unstable_observableRefs[_key - 3] = arguments[_key];\n  }\n\n  return popoverRect ? position.apply(void 0, [targetRect, popoverRect].concat(unstable_observableRefs.map(function (ref) {\n    return ref.current;\n  }))) : {\n    visibility: \"hidden\"\n  };\n}\n\nfunction getTopPosition(targetRect, popoverRect, isDirectionUp) {\n  return {\n    top: isDirectionUp ? targetRect.top - popoverRect.height + window.pageYOffset + \"px\" : targetRect.top + targetRect.height + window.pageYOffset + \"px\"\n  };\n}\n\nvar positionDefault = function positionDefault(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions = getCollisions(targetRect, popoverRect),\n      directionRight = _getCollisions.directionRight,\n      directionUp = _getCollisions.directionUp;\n\n  return _extends({\n    left: directionRight ? targetRect.right - popoverRect.width + window.pageXOffset + \"px\" : targetRect.left + window.pageXOffset + \"px\"\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nvar positionRight = function positionRight(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions2 = getCollisions(targetRect, popoverRect),\n      directionLeft = _getCollisions2.directionLeft,\n      directionUp = _getCollisions2.directionUp;\n\n  return _extends({\n    left: directionLeft ? targetRect.left + window.pageXOffset + \"px\" : targetRect.right - popoverRect.width + window.pageXOffset + \"px\"\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nvar positionMatchWidth = function positionMatchWidth(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions3 = getCollisions(targetRect, popoverRect),\n      directionUp = _getCollisions3.directionUp;\n\n  return _extends({\n    width: targetRect.width,\n    left: targetRect.left\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nfunction getCollisions(targetRect, popoverRect, offsetLeft, offsetBottom) {\n  if (offsetLeft === void 0) {\n    offsetLeft = 0;\n  }\n\n  if (offsetBottom === void 0) {\n    offsetBottom = 0;\n  }\n\n  var collisions = {\n    top: targetRect.top - popoverRect.height < 0,\n    right: window.innerWidth < targetRect.left + popoverRect.width - offsetLeft,\n    bottom: window.innerHeight < targetRect.bottom + popoverRect.height - offsetBottom,\n    left: targetRect.left + targetRect.width - popoverRect.width < 0\n  };\n  var directionRight = collisions.right && !collisions.left;\n  var directionLeft = collisions.left && !collisions.right;\n  var directionUp = collisions.bottom && !collisions.top;\n  var directionDown = collisions.top && !collisions.bottom;\n  return {\n    directionRight: directionRight,\n    directionLeft: directionLeft,\n    directionUp: directionUp,\n    directionDown: directionDown\n  };\n} // Heads up, my jQuery past haunts this function. This hook scopes the tab\n// order to the React element tree, instead of the DOM tree. This way, when the\n// user navigates with tab from the targetRef, the tab order moves into the\n// popup, and then out of the popup back to the rest of the document.\n// (We call targetRef, triggerRef inside this function to avoid confusion with\n// event.target)\n\n\nfunction useSimulateTabNavigationForReactTree(triggerRef, popoverRef) {\n  var ownerDocument = getOwnerDocument(triggerRef.current);\n\n  function handleKeyDown(event) {\n    if (event.key === \"Tab\" && popoverRef.current && tabbable(popoverRef.current).length === 0) {\n      return;\n    }\n\n    if (event.key === \"Tab\" && event.shiftKey) {\n      if (shiftTabbedFromElementAfterTrigger(event)) {\n        focusLastTabbableInPopover(event);\n      } else if (shiftTabbedOutOfPopover(event)) {\n        focusTriggerRef(event);\n      } else if (shiftTabbedToBrowserChrome(event)) {\n        disableTabbablesInPopover();\n      }\n    } else if (event.key === \"Tab\") {\n      if (tabbedFromTriggerToPopover()) {\n        focusFirstPopoverTabbable(event);\n      } else if (tabbedOutOfPopover()) {\n        focusTabbableAfterTrigger(event);\n      } else if (tabbedToBrowserChrome(event)) {\n        disableTabbablesInPopover();\n      }\n    }\n  }\n\n  useEffect(function () {\n    ownerDocument.addEventListener(\"keydown\", handleKeyDown);\n    return function () {\n      ownerDocument.removeEventListener(\"keydown\", handleKeyDown);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function getElementAfterTrigger() {\n    var elements = tabbable(ownerDocument);\n    var targetIndex = elements && triggerRef.current ? elements.indexOf(triggerRef.current) : -1;\n    var elementAfterTrigger = elements && elements[targetIndex + 1];\n    return popoverRef.current && popoverRef.current.contains(elementAfterTrigger || null) ? false : elementAfterTrigger;\n  }\n\n  function tabbedFromTriggerToPopover() {\n    return triggerRef.current ? triggerRef.current === ownerDocument.activeElement : false;\n  }\n\n  function focusFirstPopoverTabbable(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements && elements[0]) {\n      event.preventDefault();\n      elements[0].focus();\n    }\n  }\n\n  function tabbedOutOfPopover() {\n    var inPopover = popoverRef.current ? popoverRef.current.contains(ownerDocument.activeElement || null) : false;\n\n    if (inPopover) {\n      var elements = popoverRef.current && tabbable(popoverRef.current);\n      return Boolean(elements && elements[elements.length - 1] === ownerDocument.activeElement);\n    }\n\n    return false;\n  }\n\n  function focusTabbableAfterTrigger(event) {\n    var elementAfterTrigger = getElementAfterTrigger();\n\n    if (elementAfterTrigger) {\n      event.preventDefault();\n      elementAfterTrigger.focus();\n    }\n  }\n\n  function shiftTabbedFromElementAfterTrigger(event) {\n    if (!event.shiftKey) return;\n    var elementAfterTrigger = getElementAfterTrigger();\n    return event.target === elementAfterTrigger;\n  }\n\n  function focusLastTabbableInPopover(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n    var last = elements && elements[elements.length - 1];\n\n    if (last) {\n      event.preventDefault();\n      last.focus();\n    }\n  }\n\n  function shiftTabbedOutOfPopover(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements) {\n      return elements.length === 0 ? false : event.target === elements[0];\n    }\n\n    return false;\n  }\n\n  function focusTriggerRef(event) {\n    var _triggerRef$current;\n\n    event.preventDefault();\n    (_triggerRef$current = triggerRef.current) == null ? void 0 : _triggerRef$current.focus();\n  }\n\n  function tabbedToBrowserChrome(event) {\n    var elements = popoverRef.current ? tabbable(ownerDocument).filter(function (element) {\n      return !popoverRef.current.contains(element);\n    }) : null;\n    return elements ? event.target === elements[elements.length - 1] : false;\n  }\n\n  function shiftTabbedToBrowserChrome(event) {\n    // we're assuming the popover will never contain the first tabbable\n    // element, and it better not, because the trigger needs to be tabbable!\n    return event.target === tabbable(ownerDocument)[0];\n  }\n\n  var restoreTabIndexTupl√©s = [];\n\n  function disableTabbablesInPopover() {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements) {\n      elements.forEach(function (element) {\n        restoreTabIndexTupl√©s.push([element, element.tabIndex]);\n        element.tabIndex = -1;\n      });\n      ownerDocument.addEventListener(\"focusin\", enableTabbablesInPopover);\n    }\n  }\n\n  function enableTabbablesInPopover() {\n    ownerDocument.removeEventListener(\"focusin\", enableTabbablesInPopover);\n    restoreTabIndexTupl√©s.forEach(function (_ref2) {\n      var element = _ref2[0],\n          tabIndex = _ref2[1];\n      element.tabIndex = tabIndex;\n    });\n  }\n} ////////////////////////////////////////////////////////////////////////////////\n\nexport default Popover;\nexport { Popover, getCollisions, positionDefault, positionMatchWidth, positionRight };\n","import { forwardRef, useRef, createElement, useContext, useEffect, useCallback, useMemo, Fragment, useState, useReducer } from 'react';\nimport PropTypes from 'prop-types';\nimport { useIsomorphicLayoutEffect } from '@reach/utils/use-isomorphic-layout-effect';\nimport { createNamedContext } from '@reach/utils/context';\nimport { isFunction } from '@reach/utils/type-check';\nimport { makeId } from '@reach/utils/make-id';\nimport { noop } from '@reach/utils/noop';\nimport { useCheckStyles } from '@reach/utils/dev-utils';\nimport { useComposedRefs } from '@reach/utils/compose-refs';\nimport { useUpdateEffect } from '@reach/utils/use-update-effect';\nimport { useStatefulRefValue } from '@reach/utils/use-stateful-ref-value';\nimport { composeEventHandlers } from '@reach/utils/compose-event-handlers';\nimport { createDescendantContext, useDescendantsInit, DescendantProvider, useDescendant, useDescendants } from '@reach/descendants';\nimport { useId } from '@reach/auto-id';\nimport { Popover, positionMatchWidth } from '@reach/popover';\nimport warning from 'tiny-warning';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n// Forked from https://github.com/bvaughn/highlight-words-core\n\n/**\n * Creates an array of chunk objects representing both higlightable and non\n * highlightable pieces of text that match each search word.\n *\n * @return Array of \"chunk\" objects\n */\nfunction findAll(_ref) {\n  var autoEscape = _ref.autoEscape,\n      _ref$caseSensitive = _ref.caseSensitive,\n      caseSensitive = _ref$caseSensitive === void 0 ? false : _ref$caseSensitive,\n      _ref$findChunks = _ref.findChunks,\n      findChunks = _ref$findChunks === void 0 ? defaultFindChunks : _ref$findChunks,\n      sanitize = _ref.sanitize,\n      searchWords = _ref.searchWords,\n      textToHighlight = _ref.textToHighlight;\n  return fillInChunks({\n    chunksToHighlight: combineChunks({\n      chunks: findChunks({\n        autoEscape: autoEscape,\n        caseSensitive: caseSensitive,\n        sanitize: sanitize,\n        searchWords: searchWords,\n        textToHighlight: textToHighlight\n      })\n    }),\n    totalLength: textToHighlight ? textToHighlight.length : 0\n  });\n}\n/**\n * Takes an array of \"chunk\" objects and combines chunks that overlap into\n * single chunks.\n *\n * @return Array of \"chunk\" objects\n */\n\n\nfunction combineChunks(_ref2) {\n  var chunks = _ref2.chunks;\n  return chunks.sort(function (first, second) {\n    return first.start - second.start;\n  }).reduce(function (processedChunks, nextChunk) {\n    // First chunk just goes straight in the array...\n    if (processedChunks.length === 0) {\n      return [nextChunk];\n    } else {\n      // ... subsequent chunks get checked to see if they overlap...\n      var prevChunk = processedChunks.pop();\n\n      if (nextChunk.start <= prevChunk.end) {\n        // It may be the case that prevChunk completely surrounds nextChunk, so take the\n        // largest of the end indeces.\n        var endIndex = Math.max(prevChunk.end, nextChunk.end);\n        processedChunks.push({\n          highlight: false,\n          start: prevChunk.start,\n          end: endIndex\n        });\n      } else {\n        processedChunks.push(prevChunk, nextChunk);\n      }\n\n      return processedChunks;\n    }\n  }, []);\n}\n/**\n * Examine text for any matches. If we find matches, add them to the returned\n * array as a \"chunk\" object.\n *\n * @return Array of \"chunk\" objects\n */\n\n\nfunction defaultFindChunks(_ref3) {\n  var autoEscape = _ref3.autoEscape,\n      caseSensitive = _ref3.caseSensitive,\n      _ref3$sanitize = _ref3.sanitize,\n      sanitize = _ref3$sanitize === void 0 ? defaultSanitize : _ref3$sanitize,\n      searchWords = _ref3.searchWords,\n      textToHighlight = _ref3.textToHighlight;\n  textToHighlight = sanitize(textToHighlight || \"\");\n  return searchWords.filter(function (searchWord) {\n    return searchWord;\n  }) // Remove empty words\n  .reduce(function (chunks, searchWord) {\n    searchWord = sanitize(searchWord);\n\n    if (autoEscape) {\n      searchWord = escapeRegExpFn(searchWord);\n    }\n\n    var regex = new RegExp(searchWord, caseSensitive ? \"g\" : \"gi\");\n    var match;\n\n    while (match = regex.exec(textToHighlight || \"\")) {\n      var start = match.index;\n      var end = regex.lastIndex; // We do not return zero-length matches\n\n      if (end > start) {\n        chunks.push({\n          highlight: false,\n          start: start,\n          end: end\n        });\n      } // Prevent browsers like Firefox from getting stuck in an infinite loop\n      // See http://www.regexguru.com/2008/04/watch-out-for-zero-length-matches/\n\n\n      if (match.index === regex.lastIndex) {\n        regex.lastIndex++;\n      }\n    }\n\n    return chunks;\n  }, []);\n}\n/**\n * Given a set of chunks to highlight, create an additional set of chunks\n * to represent the bits of text between the highlighted text.\n *\n * @return Array of \"chunk\" objects\n */\n\n\nfunction fillInChunks(_ref4) {\n  var chunksToHighlight = _ref4.chunksToHighlight,\n      totalLength = _ref4.totalLength;\n  var allChunks = [];\n\n  if (chunksToHighlight.length === 0) {\n    append(0, totalLength, false);\n  } else {\n    var lastIndex = 0;\n    chunksToHighlight.forEach(function (chunk) {\n      append(lastIndex, chunk.start, false);\n      append(chunk.start, chunk.end, true);\n      lastIndex = chunk.end;\n    });\n    append(lastIndex, totalLength, false);\n  }\n\n  return allChunks;\n\n  function append(start, end, highlight) {\n    if (end - start > 0) {\n      allChunks.push({\n        start: start,\n        end: end,\n        highlight: highlight\n      });\n    }\n  }\n}\n\nfunction defaultSanitize(string) {\n  return string;\n}\n\nfunction escapeRegExpFn(string) {\n  return string.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, \"\\\\$&\");\n}\n\nvar HighlightWords = {\n  combineChunks: combineChunks,\n  fillInChunks: fillInChunks,\n  findAll: findAll,\n  findChunks: defaultFindChunks\n};\n\nvar _excluded = [\"onSelect\", \"openOnFocus\", \"children\", \"as\", \"aria-label\", \"aria-labelledby\"],\n    _excluded2 = [\"as\", \"selectOnClick\", \"autocomplete\", \"onClick\", \"onChange\", \"onKeyDown\", \"onBlur\", \"onFocus\", \"value\"],\n    _excluded3 = [\"as\", \"children\", \"portal\", \"onKeyDown\", \"onBlur\", \"position\"],\n    _excluded4 = [\"persistSelection\", \"as\"],\n    _excluded5 = [\"as\", \"children\", \"index\", \"value\", \"onClick\"],\n    _excluded6 = [\"as\", \"onClick\", \"onKeyDown\"];\n\nvar _on, _on2, _on3, _on4, _states;\n// States\n// Nothing going on, waiting for the user to type or use the arrow keys\n\nvar IDLE = \"IDLE\"; // The component is suggesting options as the user types\n\nvar SUGGESTING = \"SUGGESTING\"; // The user is using the keyboard to navigate the list, not typing\n\nvar NAVIGATING = \"NAVIGATING\"; // The user is interacting with arbitrary elements inside the popup that\n// are not ComboboxInputs\n\nvar INTERACTING = \"INTERACTING\"; ////////////////////////////////////////////////////////////////////////////////\n// Events\n// User cleared the value w/ backspace, but input still has focus\n\nvar CLEAR = \"CLEAR\"; // User is typing\n\nvar CHANGE = \"CHANGE\"; // Initial input value change handler for syncing user state with state machine\n// Prevents initial change from sending the user to the NAVIGATING state\n// https://github.com/reach/reach-ui/issues/464\n\nvar INITIAL_CHANGE = \"INITIAL_CHANGE\"; // User is navigating w/ the keyboard\n\nvar NAVIGATE = \"NAVIGATE\"; // User can be navigating with keyboard and then click instead, we want the\n// value from the click, not the current nav item\n\nvar SELECT_WITH_KEYBOARD = \"SELECT_WITH_KEYBOARD\";\nvar SELECT_WITH_CLICK = \"SELECT_WITH_CLICK\"; // Pretty self-explanatory, user can hit escape or blur to close the popover\n\nvar ESCAPE = \"ESCAPE\";\nvar BLUR = \"BLUR\"; // The user left the input to interact with arbitrary elements inside the popup\n\nvar INTERACT = \"INTERACT\";\nvar FOCUS = \"FOCUS\";\nvar OPEN_WITH_BUTTON = \"OPEN_WITH_BUTTON\";\nvar OPEN_WITH_INPUT_CLICK = \"OPEN_WITH_INPUT_CLICK\";\nvar CLOSE_WITH_BUTTON = \"CLOSE_WITH_BUTTON\"; ////////////////////////////////////////////////////////////////////////////////\n\nvar stateChart = {\n  initial: IDLE,\n  states: (_states = {}, _states[IDLE] = {\n    on: (_on = {}, _on[BLUR] = IDLE, _on[CLEAR] = IDLE, _on[CHANGE] = SUGGESTING, _on[INITIAL_CHANGE] = IDLE, _on[FOCUS] = SUGGESTING, _on[NAVIGATE] = NAVIGATING, _on[OPEN_WITH_BUTTON] = SUGGESTING, _on[OPEN_WITH_INPUT_CLICK] = SUGGESTING, _on)\n  }, _states[SUGGESTING] = {\n    on: (_on2 = {}, _on2[CHANGE] = SUGGESTING, _on2[FOCUS] = SUGGESTING, _on2[NAVIGATE] = NAVIGATING, _on2[CLEAR] = IDLE, _on2[ESCAPE] = IDLE, _on2[BLUR] = IDLE, _on2[SELECT_WITH_CLICK] = IDLE, _on2[INTERACT] = INTERACTING, _on2[CLOSE_WITH_BUTTON] = IDLE, _on2)\n  }, _states[NAVIGATING] = {\n    on: (_on3 = {}, _on3[CHANGE] = SUGGESTING, _on3[FOCUS] = SUGGESTING, _on3[CLEAR] = IDLE, _on3[BLUR] = IDLE, _on3[ESCAPE] = IDLE, _on3[NAVIGATE] = NAVIGATING, _on3[SELECT_WITH_CLICK] = IDLE, _on3[SELECT_WITH_KEYBOARD] = IDLE, _on3[CLOSE_WITH_BUTTON] = IDLE, _on3[INTERACT] = INTERACTING, _on3)\n  }, _states[INTERACTING] = {\n    on: (_on4 = {}, _on4[CLEAR] = IDLE, _on4[CHANGE] = SUGGESTING, _on4[FOCUS] = SUGGESTING, _on4[BLUR] = IDLE, _on4[ESCAPE] = IDLE, _on4[NAVIGATE] = NAVIGATING, _on4[CLOSE_WITH_BUTTON] = IDLE, _on4[SELECT_WITH_CLICK] = IDLE, _on4)\n  }, _states)\n};\n\nvar reducer = function reducer(data, event) {\n  var nextState = _extends({}, data, {\n    lastEventType: event.type\n  });\n\n  switch (event.type) {\n    case CHANGE:\n    case INITIAL_CHANGE:\n      return _extends({}, nextState, {\n        navigationValue: null,\n        value: event.value\n      });\n\n    case NAVIGATE:\n    case OPEN_WITH_BUTTON:\n    case OPEN_WITH_INPUT_CLICK:\n      return _extends({}, nextState, {\n        navigationValue: findNavigationValue(nextState, event)\n      });\n\n    case CLEAR:\n      return _extends({}, nextState, {\n        value: \"\",\n        navigationValue: null\n      });\n\n    case BLUR:\n    case ESCAPE:\n      return _extends({}, nextState, {\n        navigationValue: null\n      });\n\n    case SELECT_WITH_CLICK:\n      return _extends({}, nextState, {\n        // if controlled, \"set\" the input to what it already has, and let the\n        // user do whatever they want\n        value: event.isControlled ? data.value : event.value,\n        navigationValue: null\n      });\n\n    case SELECT_WITH_KEYBOARD:\n      return _extends({}, nextState, {\n        // if controlled, \"set\" the input to what it already has, and let the\n        // user do whatever they want\n        value: event.isControlled ? data.value : data.navigationValue,\n        navigationValue: null\n      });\n\n    case CLOSE_WITH_BUTTON:\n      return _extends({}, nextState, {\n        navigationValue: null\n      });\n\n    case INTERACT:\n      return nextState;\n\n    case FOCUS:\n      return _extends({}, nextState, {\n        navigationValue: findNavigationValue(nextState, event)\n      });\n\n    default:\n      return nextState;\n  }\n};\n\nfunction popoverIsExpanded(state) {\n  return [SUGGESTING, NAVIGATING, INTERACTING].includes(state);\n}\n/**\n * When we open a list, set the navigation value to the value in the input, if\n * it's in the list, then it'll automatically be highlighted.\n *\n * @param stateData\n * @param event\n */\n\n\nfunction findNavigationValue(stateData, event) {\n  // @ts-ignore\n  if (event.value) {\n    // @ts-ignore\n    return event.value; // @ts-ignore\n  } else if (event.persistSelection) {\n    return stateData.value;\n  } else {\n    return null;\n  }\n}\n\nvar ComboboxDescendantContext = /*#__PURE__*/createDescendantContext(\"ComboboxDescendantContext\");\nvar ComboboxContext = /*#__PURE__*/createNamedContext(\"ComboboxContext\", {}); // Allows us to put the option's value on context so that ComboboxOptionText\n// can work it's highlight text magic no matter what else is rendered around\n// it.\n\nvar OptionContext = /*#__PURE__*/createNamedContext(\"OptionContext\", {}); ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Combobox\n *\n * @see Docs https://reach.tech/combobox#combobox\n */\n\nvar Combobox = /*#__PURE__*/forwardRef(function (_ref, forwardedRef) {\n  var _data$navigationValue;\n\n  var onSelect = _ref.onSelect,\n      _ref$openOnFocus = _ref.openOnFocus,\n      openOnFocus = _ref$openOnFocus === void 0 ? false : _ref$openOnFocus,\n      children = _ref.children,\n      _ref$as = _ref.as,\n      Comp = _ref$as === void 0 ? \"div\" : _ref$as,\n      ariaLabel = _ref[\"aria-label\"],\n      ariaLabelledby = _ref[\"aria-labelledby\"],\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var _useDescendantsInit = useDescendantsInit(),\n      options = _useDescendantsInit[0],\n      setOptions = _useDescendantsInit[1]; // Need this to focus it\n\n\n  var inputRef = useRef();\n  var popoverRef = useRef();\n  var buttonRef = useRef(); // When <ComboboxInput autocomplete={false} /> we don't want cycle back to\n  // the user's value while navigating (because it's always the user's value),\n  // but we need to know this in useKeyDown which is far away from the prop\n  // here, so we do something sneaky and write it to this ref on context so we\n  // can use it anywhere else üòõ. Another new trick for me and I'm excited\n  // about this one too!\n\n  var autocompletePropRef = useRef(false);\n  var persistSelectionRef = useRef(false);\n  var defaultData = {\n    // The value the user has typed. We derive this also when the developer is\n    // controlling the value of ComboboxInput.\n    value: \"\",\n    // the value the user has navigated to with the keyboard\n    navigationValue: null\n  };\n\n  var _useReducerMachine = useReducerMachine(stateChart, reducer, defaultData),\n      state = _useReducerMachine[0],\n      data = _useReducerMachine[1],\n      transition = _useReducerMachine[2];\n\n  useFocusManagement(data.lastEventType, inputRef);\n  var id = useId(props.id);\n  var listboxId = id ? makeId(\"listbox\", id) : \"listbox\";\n  var isControlledRef = useRef(false);\n  var isExpanded = popoverIsExpanded(state);\n  var context = {\n    ariaLabel: ariaLabel,\n    ariaLabelledby: ariaLabelledby,\n    autocompletePropRef: autocompletePropRef,\n    buttonRef: buttonRef,\n    comboboxId: id,\n    data: data,\n    inputRef: inputRef,\n    isExpanded: isExpanded,\n    listboxId: listboxId,\n    onSelect: onSelect || noop,\n    openOnFocus: openOnFocus,\n    persistSelectionRef: persistSelectionRef,\n    popoverRef: popoverRef,\n    state: state,\n    transition: transition,\n    isControlledRef: isControlledRef\n  };\n  useCheckStyles(\"combobox\");\n  return /*#__PURE__*/createElement(DescendantProvider, {\n    context: ComboboxDescendantContext,\n    items: options,\n    set: setOptions\n  }, /*#__PURE__*/createElement(ComboboxContext.Provider, {\n    value: context\n  }, /*#__PURE__*/createElement(Comp, _extends({}, props, {\n    \"data-reach-combobox\": \"\",\n    \"data-state\": getDataState(state),\n    \"data-expanded\": isExpanded || undefined,\n    ref: forwardedRef\n  }), isFunction(children) ? children({\n    id: id,\n    isExpanded: isExpanded,\n    navigationValue: (_data$navigationValue = data.navigationValue) != null ? _data$navigationValue : null,\n    state: state\n  }) : children)));\n});\n/**\n * @see Docs https://reach.tech/combobox#combobox-props\n */\n\nif (process.env.NODE_ENV !== \"production\") {\n  Combobox.displayName = \"Combobox\";\n  Combobox.propTypes = {\n    as: PropTypes.any,\n    onSelect: PropTypes.func,\n    openOnFocus: PropTypes.bool\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxInput\n *\n * Wraps an `<input/>` with a couple extra props that work with the combobox.\n *\n * @see Docs https://reach.tech/combobox#comboboxinput\n */\n\n\nvar ComboboxInput = /*#__PURE__*/forwardRef(function (_ref2, forwardedRef) {\n  var _ref2$as = _ref2.as,\n      Comp = _ref2$as === void 0 ? \"input\" : _ref2$as,\n      _ref2$selectOnClick = _ref2.selectOnClick,\n      selectOnClick = _ref2$selectOnClick === void 0 ? false : _ref2$selectOnClick,\n      _ref2$autocomplete = _ref2.autocomplete,\n      autocomplete = _ref2$autocomplete === void 0 ? true : _ref2$autocomplete,\n      onClick = _ref2.onClick,\n      onChange = _ref2.onChange,\n      onKeyDown = _ref2.onKeyDown,\n      onBlur = _ref2.onBlur,\n      onFocus = _ref2.onFocus,\n      controlledValue = _ref2.value,\n      props = _objectWithoutPropertiesLoose(_ref2, _excluded2);\n\n  // https://github.com/reach/reach-ui/issues/464\n  var _React$useRef = useRef(controlledValue),\n      initialControlledValue = _React$useRef.current;\n\n  var controlledValueChangedRef = useRef(false);\n  useUpdateEffect(function () {\n    controlledValueChangedRef.current = true;\n  }, [controlledValue]);\n\n  var _React$useContext = useContext(ComboboxContext),\n      _React$useContext$dat = _React$useContext.data,\n      navigationValue = _React$useContext$dat.navigationValue,\n      value = _React$useContext$dat.value,\n      lastEventType = _React$useContext$dat.lastEventType,\n      inputRef = _React$useContext.inputRef,\n      state = _React$useContext.state,\n      transition = _React$useContext.transition,\n      listboxId = _React$useContext.listboxId,\n      autocompletePropRef = _React$useContext.autocompletePropRef,\n      openOnFocus = _React$useContext.openOnFocus,\n      isExpanded = _React$useContext.isExpanded,\n      ariaLabel = _React$useContext.ariaLabel,\n      ariaLabelledby = _React$useContext.ariaLabelledby,\n      persistSelectionRef = _React$useContext.persistSelectionRef,\n      isControlledRef = _React$useContext.isControlledRef;\n\n  var ref = useComposedRefs(inputRef, forwardedRef); // Because we close the List on blur, we need to track if the blur is\n  // caused by clicking inside the list, and if so, don't close the List.\n\n  var selectOnClickRef = useRef(false);\n  var handleKeyDown = useKeyDown();\n  var handleBlur = useBlur();\n  var isControlled = typeof controlledValue !== \"undefined\";\n  var wasInitiallyControlled = typeof initialControlledValue !== \"undefined\";\n\n  if (process.env.NODE_ENV !== \"production\") {\n    process.env.NODE_ENV !== \"production\" ? warning(!(!isControlled && wasInitiallyControlled), \"ComboboxInput is changing from controlled to uncontrolled. ComboboxInput should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled ComboboxInput for the lifetime of the component. Check the `value` prop being passed in.\") : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(!(isControlled && !wasInitiallyControlled), \"ComboboxInput is changing from uncontrolled to controlled. ComboboxInput should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled ComboboxInput for the lifetime of the component. Check the `value` prop being passed in.\") : void 0;\n  }\n\n  useEffect(function () {\n    isControlledRef.current = isControlled; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isControlled]); // Layout effect should be SSR-safe here because we don't actually do\n  // anything with this ref that involves rendering until after we've\n  // let the client hydrate in nested components.\n\n  useIsomorphicLayoutEffect(function () {\n    autocompletePropRef.current = autocomplete;\n  }, [autocomplete, autocompletePropRef]);\n  var handleValueChange = useCallback(function (value) {\n    if (value.trim() === \"\") {\n      transition(CLEAR, {\n        isControlled: isControlled\n      });\n    } else if (value === initialControlledValue && !controlledValueChangedRef.current) {\n      transition(INITIAL_CHANGE, {\n        value: value\n      });\n    } else {\n      transition(CHANGE, {\n        value: value\n      });\n    }\n  }, [initialControlledValue, transition, isControlled]);\n  useEffect(function () {\n    // If they are controlling the value we still need to do our transitions,\n    // so  we have this derived state to emulate onChange of the input as we\n    // receive new `value`s ...[*]\n    if (isControlled && controlledValue !== value && ( // https://github.com/reach/reach-ui/issues/481\n    controlledValue.trim() === \"\" ? (value || \"\").trim() !== \"\" : true)) {\n      handleValueChange(controlledValue);\n    }\n  }, [controlledValue, handleValueChange, isControlled, value]); // [*]... and when controlled, we don't trigger handleValueChange as the\n  // user types, instead the developer controls it with the normal input\n  // onChange prop\n\n  function handleChange(event) {\n    var value = event.target.value;\n\n    if (!isControlled) {\n      handleValueChange(value);\n    }\n  }\n\n  function handleFocus() {\n    if (selectOnClick) {\n      selectOnClickRef.current = true;\n    } // If we select an option with click, useFocusManagement will focus the\n    // input, in those cases we don't want to cause the menu to open back up,\n    // so we guard behind these states.\n\n\n    if (openOnFocus && lastEventType !== SELECT_WITH_CLICK) {\n      transition(FOCUS, {\n        persistSelection: persistSelectionRef.current\n      });\n    }\n  }\n\n  function handleClick() {\n    if (selectOnClickRef.current) {\n      var _inputRef$current;\n\n      selectOnClickRef.current = false;\n      (_inputRef$current = inputRef.current) == null ? void 0 : _inputRef$current.select();\n    }\n\n    if (openOnFocus && state === IDLE) {\n      transition(OPEN_WITH_INPUT_CLICK);\n    }\n  }\n\n  var inputValue = autocomplete && (state === NAVIGATING || state === INTERACTING) ? // When idle, we don't have a navigationValue on ArrowUp/Down\n  navigationValue || controlledValue || value : controlledValue || value;\n  return /*#__PURE__*/createElement(Comp, _extends({\n    \"aria-activedescendant\": navigationValue ? String(makeHash(navigationValue)) : undefined,\n    \"aria-autocomplete\": \"both\",\n    \"aria-controls\": listboxId,\n    \"aria-expanded\": isExpanded,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabel ? undefined : ariaLabelledby,\n    role: \"combobox\"\n  }, props, {\n    \"data-reach-combobox-input\": \"\",\n    \"data-state\": getDataState(state),\n    ref: ref,\n    onBlur: composeEventHandlers(onBlur, handleBlur),\n    onChange: composeEventHandlers(onChange, handleChange),\n    onClick: composeEventHandlers(onClick, handleClick),\n    onFocus: composeEventHandlers(onFocus, handleFocus),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown),\n    value: inputValue || \"\"\n  }));\n});\n/**\n * @see Docs https://reach.tech/combobox#comboboxinput-props\n */\n\nif (process.env.NODE_ENV !== \"production\") {\n  ComboboxInput.displayName = \"ComboboxInput\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxPopover\n *\n * Contains the popup that renders the list. Because some UI needs to render\n * more than the list in the popup, you need to render one of these around the\n * list. For example, maybe you want to render the number of results suggested.\n *\n * @see Docs https://reach.tech/combobox#comboboxpopover\n */\n\n\nvar ComboboxPopover = /*#__PURE__*/forwardRef(function (_ref3, forwardedRef) {\n  var _ref3$as = _ref3.as,\n      Comp = _ref3$as === void 0 ? \"div\" : _ref3$as,\n      children = _ref3.children,\n      _ref3$portal = _ref3.portal,\n      portal = _ref3$portal === void 0 ? true : _ref3$portal,\n      onKeyDown = _ref3.onKeyDown,\n      onBlur = _ref3.onBlur,\n      _ref3$position = _ref3.position,\n      position = _ref3$position === void 0 ? positionMatchWidth : _ref3$position,\n      props = _objectWithoutPropertiesLoose(_ref3, _excluded3);\n\n  var _React$useContext2 = useContext(ComboboxContext),\n      popoverRef = _React$useContext2.popoverRef,\n      inputRef = _React$useContext2.inputRef,\n      isExpanded = _React$useContext2.isExpanded,\n      state = _React$useContext2.state;\n\n  var ref = useComposedRefs(popoverRef, forwardedRef);\n  var handleKeyDown = useKeyDown();\n  var handleBlur = useBlur();\n  var sharedProps = {\n    \"data-reach-combobox-popover\": \"\",\n    \"data-state\": getDataState(state),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown),\n    onBlur: composeEventHandlers(onBlur, handleBlur),\n    // Instead of conditionally rendering the popover we use the `hidden` prop\n    // because we don't want to unmount on close (from escape or onSelect).\n    // However, the developer can conditionally render the ComboboxPopover if\n    // they do want to cause mount/unmount based on the app's own data (like\n    // results.length or whatever).\n    hidden: !isExpanded,\n    tabIndex: -1,\n    children: children\n  };\n  return portal ? /*#__PURE__*/createElement(Popover, _extends({\n    as: Comp\n  }, props, {\n    ref: ref,\n    \"data-expanded\": isExpanded || undefined,\n    position: position,\n    targetRef: inputRef\n  }, sharedProps)) : /*#__PURE__*/createElement(Comp, _extends({\n    ref: ref\n  }, props, sharedProps));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ComboboxPopover.displayName = \"ComboboxPopover\";\n}\n/**\n * @see Docs https://reach.tech/combobox#comboboxpopover-props\n */\n\n\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxList\n *\n * Contains the `ComboboxOption` elements and sets up the proper aria attributes\n * for the list.\n *\n * @see Docs https://reach.tech/combobox#comboboxlist\n */\nvar ComboboxList = /*#__PURE__*/forwardRef(function (_ref4, forwardedRef) {\n  var _ref4$persistSelectio = _ref4.persistSelection,\n      persistSelection = _ref4$persistSelectio === void 0 ? false : _ref4$persistSelectio,\n      _ref4$as = _ref4.as,\n      Comp = _ref4$as === void 0 ? \"ul\" : _ref4$as,\n      props = _objectWithoutPropertiesLoose(_ref4, _excluded4);\n\n  var _React$useContext3 = useContext(ComboboxContext),\n      persistSelectionRef = _React$useContext3.persistSelectionRef,\n      listboxId = _React$useContext3.listboxId;\n\n  if (persistSelection) {\n    persistSelectionRef.current = true;\n  }\n\n  return /*#__PURE__*/createElement(Comp, _extends({\n    role: \"listbox\"\n  }, props, {\n    ref: forwardedRef,\n    \"data-reach-combobox-list\": \"\",\n    id: listboxId\n  }));\n});\n/**\n * @see Docs https://reach.tech/combobox#comboboxlist-props\n */\n\nif (process.env.NODE_ENV !== \"production\") {\n  ComboboxList.displayName = \"ComboboxList\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxOption\n *\n * An option that is suggested to the user as they interact with the combobox.\n *\n * @see Docs https://reach.tech/combobox#comboboxoption\n */\n\n\nvar ComboboxOption = /*#__PURE__*/forwardRef(function (_ref5, forwardedRef) {\n  var _ref5$as = _ref5.as,\n      Comp = _ref5$as === void 0 ? \"li\" : _ref5$as,\n      children = _ref5.children,\n      indexProp = _ref5.index,\n      value = _ref5.value,\n      onClick = _ref5.onClick,\n      props = _objectWithoutPropertiesLoose(_ref5, _excluded5);\n\n  var _React$useContext4 = useContext(ComboboxContext),\n      onSelect = _React$useContext4.onSelect,\n      navigationValue = _React$useContext4.data.navigationValue,\n      transition = _React$useContext4.transition,\n      isControlledRef = _React$useContext4.isControlledRef;\n\n  var ownRef = useRef(null);\n\n  var _useStatefulRefValue = useStatefulRefValue(ownRef, null),\n      element = _useStatefulRefValue[0],\n      handleRefSet = _useStatefulRefValue[1];\n\n  var descendant = useMemo(function () {\n    return {\n      element: element,\n      value: value\n    };\n  }, [value, element]);\n  var index = useDescendant(descendant, ComboboxDescendantContext, indexProp);\n  var ref = useComposedRefs(forwardedRef, handleRefSet);\n  var isActive = navigationValue === value;\n\n  var handleClick = function handleClick() {\n    onSelect && onSelect(value);\n    transition(SELECT_WITH_CLICK, {\n      value: value,\n      isControlled: isControlledRef.current\n    });\n  };\n\n  return /*#__PURE__*/createElement(OptionContext.Provider, {\n    value: {\n      value: value,\n      index: index\n    }\n  }, /*#__PURE__*/createElement(Comp, _extends({\n    \"aria-selected\": isActive,\n    role: \"option\"\n  }, props, {\n    \"data-reach-combobox-option\": \"\",\n    ref: ref,\n    id: String(makeHash(value)),\n    \"data-highlighted\": isActive ? \"\" : undefined // Without this the menu will close from `onBlur`, but with it the\n    // element can be `document.activeElement` and then our focus checks in\n    // onBlur will work as intended\n    ,\n    tabIndex: -1,\n    onClick: composeEventHandlers(onClick, handleClick)\n  }), children ? isFunction(children) ? children({\n    value: value,\n    index: index\n  }) : children : /*#__PURE__*/createElement(ComboboxOptionText, null)));\n});\n/**\n * @see Docs https://reach.tech/combobox#comboboxoption-props\n */\n\nif (process.env.NODE_ENV !== \"production\") {\n  ComboboxOption.displayName = \"ComboboxOption\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxOptionText\n *\n * Renders the value of a `ComboboxOption` as text but with spans wrapping the\n * matching and non-matching segments of text.\n *\n * We don't forwardRef or spread props because we render multiple spans or null,\n * should be fine ü§ô\n *\n * @example\n *   <ComboboxOption value=\"Seattle\">\n *     üåß <ComboboxOptionText />\n *   </ComboboxOption>\n *\n * @see Docs https://reach.tech/combobox#comboboxoptiontext\n */\n\n\nfunction ComboboxOptionText() {\n  var _React$useContext5 = useContext(OptionContext),\n      value = _React$useContext5.value;\n\n  var _React$useContext6 = useContext(ComboboxContext),\n      contextValue = _React$useContext6.data.value;\n\n  var results = useMemo(function () {\n    return HighlightWords.findAll({\n      searchWords: escapeRegexp(contextValue || \"\").split(/\\s+/),\n      textToHighlight: value\n    });\n  }, [contextValue, value]);\n  return /*#__PURE__*/createElement(Fragment, null, results.length ? results.map(function (result, index) {\n    var str = value.slice(result.start, result.end);\n    return /*#__PURE__*/createElement(\"span\", {\n      key: index,\n      \"data-reach-combobox-option-text\": \"\",\n      \"data-user-value\": result.highlight ? true : undefined,\n      \"data-suggested-value\": result.highlight ? undefined : true\n    }, str);\n  }) : value);\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  ComboboxOptionText.displayName = \"ComboboxOptionText\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxButton\n */\n\n\nvar ComboboxButton = /*#__PURE__*/forwardRef(function (_ref6, forwardedRef) {\n  var _ref6$as = _ref6.as,\n      Comp = _ref6$as === void 0 ? \"button\" : _ref6$as,\n      onClick = _ref6.onClick,\n      onKeyDown = _ref6.onKeyDown,\n      props = _objectWithoutPropertiesLoose(_ref6, _excluded6);\n\n  var _React$useContext7 = useContext(ComboboxContext),\n      transition = _React$useContext7.transition,\n      state = _React$useContext7.state,\n      buttonRef = _React$useContext7.buttonRef,\n      listboxId = _React$useContext7.listboxId,\n      isExpanded = _React$useContext7.isExpanded;\n\n  var ref = useComposedRefs(buttonRef, forwardedRef);\n  var handleKeyDown = useKeyDown();\n\n  var handleClick = function handleClick() {\n    if (state === IDLE) {\n      transition(OPEN_WITH_BUTTON);\n    } else {\n      transition(CLOSE_WITH_BUTTON);\n    }\n  };\n\n  return /*#__PURE__*/createElement(Comp, _extends({\n    \"aria-controls\": listboxId,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-expanded\": isExpanded\n  }, props, {\n    \"data-reach-combobox-button\": \"\",\n    ref: ref,\n    onClick: composeEventHandlers(onClick, handleClick),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown)\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ComboboxButton.displayName = \"ComboboxButton\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Move focus back to the input if we start navigating w/ the\n * keyboard after focus has moved to any focusable content in\n * the popup.\n *\n * @param lastEventType\n * @param inputRef\n */\n\n\nfunction useFocusManagement(lastEventType, inputRef) {\n  // useLayoutEffect so that the cursor goes to the end of the input instead\n  // of awkwardly at the beginning, unclear to me why ü§∑‚Äç‚ôÇÔ∏è\n  //\n  // Should be safe to use here since we're just focusing an input.\n  useIsomorphicLayoutEffect(function () {\n    if (lastEventType === NAVIGATE || lastEventType === ESCAPE || lastEventType === SELECT_WITH_CLICK || lastEventType === OPEN_WITH_BUTTON) {\n      var _inputRef$current2;\n\n      (_inputRef$current2 = inputRef.current) == null ? void 0 : _inputRef$current2.focus();\n    }\n  }, [inputRef, lastEventType]);\n}\n/**\n * We want the same events when the input or the popup have focus (HOW COOL ARE\n * HOOKS BTW?) This is probably the hairiest piece but it's not bad.\n */\n\n\nfunction useKeyDown() {\n  var _React$useContext8 = useContext(ComboboxContext),\n      navigationValue = _React$useContext8.data.navigationValue,\n      onSelect = _React$useContext8.onSelect,\n      state = _React$useContext8.state,\n      transition = _React$useContext8.transition,\n      autocompletePropRef = _React$useContext8.autocompletePropRef,\n      persistSelectionRef = _React$useContext8.persistSelectionRef,\n      isControlledRef = _React$useContext8.isControlledRef;\n\n  var options = useDescendants(ComboboxDescendantContext);\n  return function handleKeyDown(event) {\n    var index = options.findIndex(function (_ref7) {\n      var value = _ref7.value;\n      return value === navigationValue;\n    });\n\n    function getNextOption() {\n      var atBottom = index === options.length - 1;\n\n      if (atBottom) {\n        if (autocompletePropRef.current) {\n          // Go back to the value the user has typed because we are\n          // autocompleting and they need to be able to get back to what\n          // they had typed w/o having to backspace out.\n          return null;\n        } else {\n          // cycle through\n          return getFirstOption();\n        }\n      } else {\n        // Go to the next item in the list\n        return options[(index + 1) % options.length];\n      }\n    }\n\n    function getPreviousOption() {\n      var atTop = index === 0;\n\n      if (atTop) {\n        if (autocompletePropRef.current) {\n          // Go back to the value the user has typed because we are\n          // autocompleting and they need to be able to get back to what\n          // they had typed w/o having to backspace out.\n          return null;\n        } else {\n          // cycle through\n          return getLastOption();\n        }\n      } else if (index === -1) {\n        // displaying the user's value, so go select the last one\n        return getLastOption();\n      } else {\n        // normal case, select previous\n        return options[(index - 1 + options.length) % options.length];\n      }\n    }\n\n    function getFirstOption() {\n      return options[0];\n    }\n\n    function getLastOption() {\n      return options[options.length - 1];\n    }\n\n    switch (event.key) {\n      case \"ArrowDown\":\n        // Don't scroll the page\n        event.preventDefault();\n\n        if (!options || !options.length) {\n          return;\n        }\n\n        if (state === IDLE) {\n          // Opening a closed list\n          transition(NAVIGATE, {\n            persistSelection: persistSelectionRef.current\n          });\n        } else {\n          var next = getNextOption();\n          transition(NAVIGATE, {\n            value: next ? next.value : null\n          });\n        }\n\n        break;\n      // A lot of duplicate code with ArrowDown up next, I'm already over it.\n\n      case \"ArrowUp\":\n        // Don't scroll the page\n        event.preventDefault();\n\n        if (!options || options.length === 0) {\n          return;\n        }\n\n        if (state === IDLE) {\n          transition(NAVIGATE);\n        } else {\n          var prev = getPreviousOption();\n          transition(NAVIGATE, {\n            value: prev ? prev.value : null\n          });\n        }\n\n        break;\n\n      case \"Home\":\n      case \"PageUp\":\n        // Don't scroll the page\n        event.preventDefault();\n\n        if (!options || options.length === 0) {\n          return;\n        }\n\n        if (state === IDLE) {\n          transition(NAVIGATE);\n        } else {\n          transition(NAVIGATE, {\n            value: getFirstOption().value\n          });\n        }\n\n        break;\n\n      case \"End\":\n      case \"PageDown\":\n        // Don't scroll the page\n        event.preventDefault();\n\n        if (!options || options.length === 0) {\n          return;\n        }\n\n        if (state === IDLE) {\n          transition(NAVIGATE);\n        } else {\n          transition(NAVIGATE, {\n            value: getLastOption().value\n          });\n        }\n\n        break;\n\n      case \"Escape\":\n        if (state !== IDLE) {\n          transition(ESCAPE);\n        }\n\n        break;\n\n      case \"Enter\":\n        if (state === NAVIGATING && navigationValue !== null) {\n          // don't want to submit forms\n          event.preventDefault();\n          onSelect && onSelect(navigationValue);\n          transition(SELECT_WITH_KEYBOARD, {\n            isControlled: isControlledRef.current\n          });\n        }\n\n        break;\n    }\n  };\n}\n\nfunction useBlur() {\n  var _React$useContext9 = useContext(ComboboxContext),\n      state = _React$useContext9.state,\n      transition = _React$useContext9.transition,\n      popoverRef = _React$useContext9.popoverRef,\n      inputRef = _React$useContext9.inputRef,\n      buttonRef = _React$useContext9.buttonRef;\n\n  return function handleBlur(event) {\n    var popover = popoverRef.current;\n    var input = inputRef.current;\n    var button = buttonRef.current;\n    var activeElement = event.relatedTarget; // we on want to close only if focus propss outside the combobox\n\n    if (activeElement !== input && activeElement !== button && popover) {\n      if (popover.contains(activeElement)) {\n        // focus landed inside the combobox, keep it open\n        if (state !== INTERACTING) {\n          transition(INTERACT);\n        }\n      } else {\n        // focus landed outside the combobox, close it.\n        transition(BLUR);\n      }\n    }\n  };\n}\n/**\n * This manages transitions between states with a built in reducer to manage\n * the data that goes with those transitions.\n *\n * @param chart\n * @param reducer\n * @param initialData\n */\n\n\nfunction useReducerMachine(chart, reducer, initialData) {\n  var _React$useState = useState(chart.initial),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  var _React$useReducer = useReducer(reducer, initialData),\n      data = _React$useReducer[0],\n      dispatch = _React$useReducer[1];\n\n  var transition = function transition(event, payload) {\n    if (payload === void 0) {\n      payload = {};\n    }\n\n    var currentState = chart.states[state];\n    var nextState = currentState && currentState.on[event];\n\n    if (nextState) {\n      dispatch(_extends({\n        type: event,\n        state: state,\n        nextState: state\n      }, payload));\n      setState(nextState);\n      return;\n    }\n  };\n\n  return [state, data, transition];\n}\n/**\n * We don't want to track the active descendant with indexes because nothing is\n * more annoying in a combobox than having it change values RIGHT AS YOU HIT\n * ENTER. That only happens if you use the index as your data, rather than\n * *your data as your data*. We use this to generate a unique ID based on the\n * value of each item.  This function is short, sweet, and good enough‚Ñ¢ (I also\n * don't know how it works, tbqh)\n *\n * @see https://stackoverflow.com/questions/6122571/simple-non-secure-hash-function-for-javascript\n * @param str\n */\n\n\nfunction makeHash(str) {\n  var hash = 0;\n\n  if (str.length === 0) {\n    return hash;\n  }\n\n  for (var i = 0; i < str.length; i++) {\n    var _char = str.charCodeAt(i);\n\n    hash = (hash << 5) - hash + _char;\n    hash = hash & hash;\n  }\n\n  return hash;\n} // function getActiveElement(node: Element | null | undefined) {\n//   let activeElement: Element | null = null;\n//   try {\n//     // If Element.getRootNode is supported, we'll retrieve either the root\n//     // Document or shadow root depending on where the component is rendered.\n//     // https://github.com/reach/reach-ui/issues/787\n//     activeElement = (node?.getRootNode() as ShadowRoot | Document)\n//       .activeElement;\n//   } finally {\n//     return activeElement || (node?.ownerDocument || document).activeElement;\n//   }\n// }\n\n\nfunction getDataState(state) {\n  return state.toLowerCase();\n}\n/**\n * Escape regexp special characters in `str`\n *\n * @see https://github.com/component/escape-regexp/blob/5ce923c1510c9802b3da972c90b6861dd2829b6b/index.js\n * @param str\n */\n\n\nfunction escapeRegexp(str) {\n  return String(str).replace(/([.*+?=^!:${}()|[\\]/\\\\])/g, \"\\\\$1\");\n} //////////////////////////\n//////////////////////////////////////////////////////\n\n/**\n * A hook that exposes data for a given `Combobox` component to its descendants.\n *\n * @see Docs https://reach.tech/combobox#usecomboboxcontext\n */\n\nfunction useComboboxContext() {\n  var _React$useContext10 = useContext(ComboboxContext),\n      isExpanded = _React$useContext10.isExpanded,\n      comboboxId = _React$useContext10.comboboxId,\n      data = _React$useContext10.data,\n      state = _React$useContext10.state;\n\n  var navigationValue = data.navigationValue;\n  return useMemo(function () {\n    return {\n      id: comboboxId,\n      isExpanded: isExpanded,\n      navigationValue: navigationValue != null ? navigationValue : null,\n      state: state\n    };\n  }, [comboboxId, isExpanded, navigationValue, state]);\n}\n/**\n * A hook that exposes data for a given `ComboboxOption` component to its descendants.\n *\n * @see Docs https://reach.tech/combobox#usecomboboxcontext\n */\n\nfunction useComboboxOptionContext() {\n  var _React$useContext11 = useContext(OptionContext),\n      value = _React$useContext11.value,\n      index = _React$useContext11.index;\n\n  return useMemo(function () {\n    return {\n      value: value,\n      index: index\n    };\n  }, [value, index]);\n} ////////////////////////////////////////////////////////////////////////////////\n// Well alright, you made it all the way here to like 1100 lines of code (geez,\n// what the heck?). Have a great day :D\n////////////////////////////////////////////////////////////////////////////////\n// Types\n\nexport { Combobox, ComboboxButton, ComboboxInput, ComboboxList, ComboboxOption, ComboboxOptionText, ComboboxPopover, escapeRegexp, useKeyDown as unstable_useKeyDown, useComboboxContext, useComboboxOptionContext };\n","/**\n * Joins strings to format IDs for compound components.\n *\n * @param args\n */\nfunction makeId() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args.filter(function (val) {\n    return val != null;\n  }).join(\"--\");\n}\n\nexport { makeId };\n","import { useRef, useEffect } from 'react';\n\n/**\n * Call an effect after a component update, skipping the initial mount.\n *\n * @param effect Effect to call\n * @param deps Effect dependency list\n */\nfunction useUpdateEffect(effect, deps) {\n  var mounted = useRef(false);\n  useEffect(function () {\n    if (mounted.current) {\n      effect();\n    } else {\n      mounted.current = true;\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, deps);\n}\n\nexport { useUpdateEffect };\n","import { useState, useCallback } from 'react';\n\nfunction useStatefulRefValue(ref, initialState) {\n  var _useState = useState(initialState),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var callbackRef = useCallback(function (refValue) {\n    ref.current = refValue;\n    setState(refValue); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return [state, callbackRef];\n}\n\nexport { useStatefulRefValue };\n","var candidateSelectors = [\n  'input',\n  'select',\n  'textarea',\n  'a[href]',\n  'button',\n  '[tabindex]',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\"])',\n];\nvar candidateSelector = candidateSelectors.join(',');\n\nvar matches = typeof Element === 'undefined'\n  ? function () {}\n  : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nfunction tabbable(el, options) {\n  options = options || {};\n\n  var regularTabbables = [];\n  var orderedTabbables = [];\n\n  var candidates = el.querySelectorAll(candidateSelector);\n\n  if (options.includeContainer) {\n    if (matches.call(el, candidateSelector)) {\n      candidates = Array.prototype.slice.apply(candidates);\n      candidates.unshift(el);\n    }\n  }\n\n  var i, candidate, candidateTabindex;\n  for (i = 0; i < candidates.length; i++) {\n    candidate = candidates[i];\n\n    if (!isNodeMatchingSelectorTabbable(candidate)) continue;\n\n    candidateTabindex = getTabindex(candidate);\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate,\n      });\n    }\n  }\n\n  var tabbableNodes = orderedTabbables\n    .sort(sortOrderedTabbables)\n    .map(function(a) { return a.node })\n    .concat(regularTabbables);\n\n  return tabbableNodes;\n}\n\ntabbable.isTabbable = isTabbable;\ntabbable.isFocusable = isFocusable;\n\nfunction isNodeMatchingSelectorTabbable(node) {\n  if (\n    !isNodeMatchingSelectorFocusable(node)\n    || isNonTabbableRadio(node)\n    || getTabindex(node) < 0\n  ) {\n    return false;\n  }\n  return true;\n}\n\nfunction isTabbable(node) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, candidateSelector) === false) return false;\n  return isNodeMatchingSelectorTabbable(node);\n}\n\nfunction isNodeMatchingSelectorFocusable(node) {\n  if (\n    node.disabled\n    || isHiddenInput(node)\n    || isHidden(node)\n  ) {\n    return false;\n  }\n  return true;\n}\n\nvar focusableCandidateSelector = candidateSelectors.concat('iframe').join(',');\nfunction isFocusable(node) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, focusableCandidateSelector) === false) return false;\n  return isNodeMatchingSelectorFocusable(node);\n}\n\nfunction getTabindex(node) {\n  var tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n  if (!isNaN(tabindexAttr)) return tabindexAttr;\n  // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n  if (isContentEditable(node)) return 0;\n  return node.tabIndex;\n}\n\nfunction sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n}\n\nfunction isContentEditable(node) {\n  return node.contentEditable === 'true';\n}\n\nfunction isInput(node) {\n  return node.tagName === 'INPUT';\n}\n\nfunction isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n}\n\nfunction isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n}\n\nfunction isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n}\n\nfunction getCheckedRadio(nodes) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked) {\n      return nodes[i];\n    }\n  }\n}\n\nfunction isTabbableRadio(node) {\n  if (!node.name) return true;\n  // This won't account for the edge case where you have radio groups with the same\n  // in separate forms on the same page.\n  var radioSet = node.ownerDocument.querySelectorAll('input[type=\"radio\"][name=\"' + node.name + '\"]');\n  var checked = getCheckedRadio(radioSet);\n  return !checked || checked === node;\n}\n\nfunction isHidden(node) {\n  // offsetParent being null will allow detecting cases where an element is invisible or inside an invisible element,\n  // as long as the element does not use position: fixed. For them, their visibility has to be checked directly as well.\n  return node.offsetParent === null || getComputedStyle(node).visibility === 'hidden';\n}\n\nmodule.exports = tabbable;\n","export default function _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}"],"sourceRoot":""}