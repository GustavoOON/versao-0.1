(this["webpackJsonpoon-seguros"]=this["webpackJsonpoon-seguros"]||[]).push([[32],{559:function(e,t,a){"use strict";t.a="http://localhost:8080"},720:function(e,t,a){},772:function(e,t,a){"use strict";a.r(t);var n=a(158),c=a(2),s=(a(720),a(160)),o=a.n(s),r=a(558),l=a.n(r),i=a(606),j=a.n(i),d=a(575),b=a(551),u=a(559),O=a(562),h=a.n(O),x=a(564),p=a(760),m=a(579),f=a(27),g=function(e){var t=l.a.get("TokenID"),a=(l.a.get("userType"),Object(c.useState)(!1)),s=Object(n.a)(a,2),r=(s[0],s[1],Object(c.useState)(!1)),i=Object(n.a)(r,2),d=i[0],O=i[1],g=function(){return O(!1)},v=Object(c.useState)([]),P=Object(n.a)(v,2),y=P[0],N=P[1],C=Object(c.useState)([]),S=Object(n.a)(C,2),w=S[0],A=S[1],T=Object(c.useState)(),k=Object(n.a)(T,2),z=k[0],F=k[1],V=Object(c.useState)(),B=Object(n.a)(V,2),I=B[0],R=B[1],D=Object(c.useState)(),E=Object(n.a)(D,2),H=(E[0],E[1],Object(c.useState)()),K=Object(n.a)(H,2),X=K[0],q=K[1],M={headers:{Authorization:"Bearer ".concat(t),Accept:"*/*","Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"PATCH"}},$=function(e){q(e)};function G(){return(G=Object(x.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],w.map((function(e){a.push(e.id)})),n={description:z,coverages:a,baseValue:parseFloat(I),custom:X},t.next=5,o.a.post("".concat(u.a,"/plans"),n,M).then((function(t){O(!1),e.attPage()})).catch((function(e){console.log("erro na api....",e)}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(c.useEffect)((function(){o.a.get("".concat(u.a,"/plansService/coverages"),M).then((function(e){N(e.data)})).catch((function(e){console.log("erro na api....",N("error, atualize a p\xe1gina..."))}))}),[]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(b.c,{className:"btn-newPlan",size:"md",onClick:function(){O(!0)},children:" Novo "}),Object(f.jsxs)(p.a,{show:d,onHide:g,size:"xl",children:[Object(f.jsx)(p.a.Header,{closeButton:!0,children:Object(f.jsx)(p.a.Title,{children:" Novo Plano "})}),Object(f.jsx)(p.a.Body,{className:"container-body",children:Object(f.jsxs)(b.R,{className:"align-items-start",children:[Object(f.jsx)(b.j,{children:Object(f.jsxs)("div",{className:"Container-ColLeft-newPlan",children:[Object(f.jsx)(b.w,{children:"Nome do Plano"}),Object(f.jsx)(b.v,{type:"text",onChange:function(e){F(e.target.value)},placeholder:"Plano Gold"}),Object(f.jsx)("br",{}),Object(f.jsx)(b.w,{children:"Plano pode ser personalizado ? "}),Object(f.jsx)(b.u,{type:"radio",name:"person1",onChange:function(){return $(!0)},id:"PersonYes",label:"Sim"}),Object(f.jsx)(b.u,{type:"radio",name:"person1",onChange:function(){return $(!1)},id:"PersonNo",label:"N\xe3o"})]})}),Object(f.jsx)(b.j,{children:Object(f.jsxs)("div",{className:"Container-ColRight-newPlan",children:[Object(f.jsx)(b.w,{children:" Valor Base"}),Object(f.jsx)(b.v,{type:"text",id:"valuePlan",onChange:function(e){R(e.target.value)},placeholder:"R$32,00"}),Object(f.jsx)("br",{}),!1===X?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(b.w,{children:"Servi\xe7os "}),Object(f.jsx)(j.a,{options:y,placeholder:"Selecione",label:"Selecione",onSelect:function(e,t){A(e)},onRemove:function(e,t){var a=[];w.map((function(e){e.id!=t.id&&a.push(e)})),A(a)},displayValue:"description"})]}):null]})})]})}),Object(f.jsxs)(p.a.Footer,{children:[Object(f.jsx)(m.a,{variant:"secondary",onClick:g,children:"Sair"}),Object(f.jsx)(m.a,{onClick:function(){return G.apply(this,arguments)},variant:"primary",children:"Salvar Altera\xe7\xf5es"})]})]})]})},v=a(555),P=a(554),y=a(591),N=function(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),s=(a[0],a[1],Object(c.useState)(!1)),r=Object(n.a)(s,2),i=r[0],d=r[1],O=function(){return d(!1)};var g=Object(c.useState)(e.data.dataPlan.dados.baseValue),v=Object(n.a)(g,2),P=v[0],N=v[1],C=Object(c.useState)(e.data.dataPlan.dados.description),S=Object(n.a)(C,2),w=S[0],A=S[1],T=Object(c.useState)(e.data.dataPlan.dados.custom),k=Object(n.a)(T,2),z=k[0],F=k[1],V=l.a.get("TokenID"),B=(l.a.get("userType"),{headers:{Authorization:"Bearer ".concat(V),Accept:"*/*","Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"PATCH"}});var I=function(e){F(e)};Object(c.useEffect)(Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat(u.a,"/coverages"),B).then((function(e){null!=e.data&&(H(e.data),e.data)})).catch((function(e){console.log("erro na api....",e)}));case 2:case"end":return e.stop()}}),e)}))),[]);var R=Object(c.useState)([]),D=Object(n.a)(R,2),E=D[0],H=D[1],K=Object(c.useState)([]),X=Object(n.a)(K,2),q=(X[0],X[1],Object(c.useState)(e.data.dataPlan.dados.coverages)),M=Object(n.a)(q,2),$=M[0],G=M[1],J=e.data.dataPlan.dados.coverages;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(b.c,{color:"secondary",onClick:function(){d(!0)},size:"sm",variant:"ghost",children:"Editar Plano"}),Object(f.jsxs)(p.a,{show:i,onHide:O,size:"xl",children:[Object(f.jsx)(p.a.Header,{closeButton:!0,children:Object(f.jsx)(p.a.Title,{children:"Adicionar "})}),Object(f.jsx)(p.a.Body,{className:"container-body",children:Object(f.jsxs)(b.R,{children:[Object(f.jsx)(b.j,{children:Object(f.jsx)(y.a,{children:Object(f.jsxs)(y.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(f.jsx)(b.w,{children:"Nome do Plano"}),Object(f.jsx)(b.v,{type:"text",id:"namePlan",onChange:function(e){A(e.target.value)},value:w,placeholder:e.data.dataPlan.dados.description}),Object(f.jsx)("br",{}),0==z?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(b.w,{children:"Servi\xe7os  "}),Object(f.jsx)(j.a,{options:E,placeholder:"Selecione",selectedValues:J,label:"Selecione",onSelect:function(e,t){G(e)},onRemove:function(e,t){var a=[];$.map((function(e){e.id!=t.id&&a.push(e)})),G(a)},displayValue:"description"})]}):null]})})}),Object(f.jsx)(b.j,{children:Object(f.jsx)(y.a,{children:Object(f.jsxs)(y.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(f.jsx)(b.w,{children:"Valor Base"}),Object(f.jsx)(b.v,{type:"text",id:"valuePlan",onChange:function(e){N(e.target.value)},value:P,placeholder:e.data.dataPlan.dados.baseValue}),Object(f.jsx)("br",{}),Object(f.jsx)(b.w,{children:"Valor por quil\xf4metro"}),Object(f.jsx)(b.v,{type:"number",id:"valueKmPlan",required:!0,min:"0.00",step:".01",placeholder:e.data.dataPlan.dados.valuePerKm}),Object(f.jsx)("br",{}),0==z?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(b.w,{children:"Plano pode ser personalizado ? "}),Object(f.jsx)(b.u,{type:"radio",name:"person1",onChange:function(){I(!0)},id:"PersonYes",label:"Sim"}),Object(f.jsx)(b.u,{type:"radio",name:"person1",onChange:function(){I(!1)},id:"PersonNo",label:"N\xe3o",defaultChecked:!0})]}):null,1==z?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(b.w,{children:"Plano pode ser personalizado ? "}),Object(f.jsx)(b.u,{type:"radio",name:"person1",onChange:function(){I(!0)},id:"PersonYes",label:"Sim",defaultChecked:!0}),Object(f.jsx)(b.u,{type:"radio",name:"person1",onChange:function(){I(!1)},id:"PersonNo",label:"N\xe3o"})]}):null]})})})]})}),Object(f.jsxs)(p.a.Footer,{children:[Object(f.jsx)(m.a,{variant:"secondary",onClick:O,children:"Sair"}),Object(f.jsx)(m.a,{onClick:function(){var t=[];null!=$&&$.map((function(e){t.push(e.id)}));var a={id:e.data.dataPlan.dados.id,description:w,coverages:t,baseValue:parseFloat(P),custom:z};o.a.patch("".concat(u.a,"/plans"),a,B).then((function(t){d(!1),e.att()})).catch((function(e){console.log("erro na api....",e)}))},variant:"primary",children:"Salvar Altera\xe7\xf5es"})]})]})]})},C=function(e){l.a.get("TokenID");var t=l.a.get("userType");return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(b.O,{content:Object(f.jsxs)("div",{children:["ADMIN"==t?Object(f.jsx)(N,{data:e,att:function(){e.attComp()}}):null,Object(f.jsx)("br",{})]}),close:!0,placement:"bottom",children:Object(f.jsx)(b.c,{variant:"white",className:"buttonOps",children:Object(f.jsx)(P.a,{icon:v.V,size:"md"})})}),Object(f.jsx)("br",{})]})},S=function(e){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(b.e,{className:"text-center carta",style:{width:"16rem"},children:[Object(f.jsxs)(b.f,{children:[Object(f.jsx)("h2",{children:e.dados.description}),Object(f.jsxs)("h5",{children:["R$ ",e.dados.baseValue]}),Object(f.jsxs)("label",{children:[" R$ ",e.dados.valuePerKm," por km"]}),Object(f.jsx)("hr",{}),e.dados.coverages.map((function(e,t){return Object(f.jsxs)("div",{className:"container-itens-plans",children:[Object(f.jsx)(P.a,{className:"bodyIcon",size:"lg",icon:v.z}),Object(f.jsxs)("label",{className:"bodyTexto",children:[" ",e.description," "]}),Object(f.jsx)("br",{}),Object(f.jsxs)("label",{className:"bodyTextoPrice",children:["R$",e.valuePerKm," "]}),Object(f.jsx)("br",{})]},t)}))]}),Object(f.jsxs)(b.g,{children:[Object(f.jsx)("div",{className:"container-buttonOp",children:Object(f.jsx)(C,{dataPlan:e,attComp:function(){e.attPage()}})}),Object(f.jsxs)("h4",{children:[" XXXX",e.dados.N_ativos]}),Object(f.jsxs)("h6",{children:["Planos ",e.dados.nomePlano]}),Object(f.jsxs)("label",{children:[" ",e.dados.porcentagem," X% a mais que no \xfaltimo m\xeas "]}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{})]})]})})};t.default=function(){var e=Object(c.useState)([]),t=Object(n.a)(e,2),a=t[0],s=t[1],r=l.a.get("TokenID"),i=l.a.get("userType"),j={headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}};console.log("Plans",r,u.a),Object(c.useEffect)((function(){o.a.get("".concat(u.a,"/plans"),j).then((function(e){s(e.data),console.log(e.data)})).catch((function(e){console.log("error",e)}))}),[]);var O=function(){s([]),o.a.get("".concat(u.a,"/plans"),j).then((function(e){s(e.data),console.log(e.data)})).catch((function(e){console.log("error",e)}))};return""==a?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("h4",{children:[" ",Object(f.jsx)(d.a,{animation:"grow",variant:"info"}),"  "]})}):Object(f.jsxs)("div",{className:"container-plan",children:[Object(f.jsx)(b.J,{colorScheme:"light",className:"bg-light",children:Object(f.jsxs)(b.l,{fluid:!0,children:[Object(f.jsx)(b.K,{href:"#",children:" "}),Object(f.jsxs)(b.t,{className:"d-flex container-search",children:[Object(f.jsx)(b.v,{type:"search",className:"me-2",size:"lg",placeholder:"Procurar"}),Object(f.jsx)(b.c,{type:"submit",size:"sm",className:"btn-pesq",color:"secondary",variant:"outline",children:"Procurar"}),"ADMIN"==i?Object(f.jsx)(g,{attPage:O}):null]})]})}),Object(f.jsx)("div",{className:"container-opcoes",children:a.map((function(e,t){if(t<3)return Object(f.jsx)("div",{className:"container-show-plans",children:Object(f.jsx)(S,{dados:e,attPage:O})},t)}))})]})}}}]);
//# sourceMappingURL=32.47943d16.chunk.js.map