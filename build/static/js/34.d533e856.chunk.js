(this["webpackJsonpoon-seguros"]=this["webpackJsonpoon-seguros"]||[]).push([[34],{718:function(e,t,a){},769:function(e,t,a){"use strict";a.r(t);var n=a(158),c=a(2),s=(a(718),a(161)),o=a.n(s),r=a(558),l=a.n(r),i=a(604),j=a.n(i),d=a(584),b=a(551),u=a(561),h=a.n(u),O=a(560),p=a(757),x=a(577),m=a(27),f=function(e){var t=l.a.get("TokenID"),a=(l.a.get("userType"),Object(c.useState)(!1)),s=Object(n.a)(a,2),r=(s[0],s[1],Object(c.useState)(!1)),i=Object(n.a)(r,2),d=i[0],u=i[1],f=function(){return u(!1)},g=Object(c.useState)([]),v=Object(n.a)(g,2),P=v[0],y=v[1],S=Object(c.useState)([]),N=Object(n.a)(S,2),w=N[0],C=N[1],A=Object(c.useState)(),T=Object(n.a)(A,2),k=T[0],z=T[1],F=Object(c.useState)(),V=Object(n.a)(F,2),I=V[0],R=V[1],B=Object(c.useState)(),D=Object(n.a)(B,2),E=(D[0],D[1],Object(c.useState)()),H=Object(n.a)(E,2),K=H[0],X=H[1],q={headers:{Authorization:t,Accept:"*/*","Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"PATCH"}},M=function(e){X(e)};function $(){return($=Object(O.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],w.map((function(e){a.push(e.id)})),n={description:k,coverages:a,baseValue:parseFloat(I),custom:K},t.next=5,o.a.post("http://dashboardbff.oonpayperuse.com.br/plansService/plans",n,q).then((function(t){u(!1),e.attPage()})).catch((function(e){console.log("erro na api....",e)}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(c.useEffect)((function(){o.a.get("http://dashboardbff.oonpayperuse.com.br/plansService/coverages",q).then((function(e){y(e.data)})).catch((function(e){console.log("erro na api....",y("error, atualize a p\xe1gina..."))}))}),[]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.c,{className:"btn-newPlan",size:"md",onClick:function(){u(!0)},children:" Novo "}),Object(m.jsxs)(p.a,{show:d,onHide:f,size:"xl",children:[Object(m.jsx)(p.a.Header,{closeButton:!0,children:Object(m.jsx)(p.a.Title,{children:" Novo Plano "})}),Object(m.jsx)(p.a.Body,{className:"container-body",children:Object(m.jsxs)(b.R,{className:"align-items-start",children:[Object(m.jsx)(b.j,{children:Object(m.jsxs)("div",{className:"Container-ColLeft-newPlan",children:[Object(m.jsx)(b.w,{children:"Nome do Plano"}),Object(m.jsx)(b.v,{type:"text",onChange:function(e){z(e.target.value)},placeholder:"Plano Gold"}),Object(m.jsx)("br",{}),Object(m.jsx)(b.w,{children:"Plano pode ser personalizado ? "}),Object(m.jsx)(b.u,{type:"radio",name:"person1",onChange:function(){return M(!0)},id:"PersonYes",label:"Sim"}),Object(m.jsx)(b.u,{type:"radio",name:"person1",onChange:function(){return M(!1)},id:"PersonNo",label:"N\xe3o"})]})}),Object(m.jsx)(b.j,{children:Object(m.jsxs)("div",{className:"Container-ColRight-newPlan",children:[Object(m.jsx)(b.w,{children:" Valor Base"}),Object(m.jsx)(b.v,{type:"text",id:"valuePlan",onChange:function(e){R(e.target.value)},placeholder:"R$32,00"}),Object(m.jsx)("br",{}),!1===K?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.w,{children:"Servi\xe7os "}),Object(m.jsx)(j.a,{options:P,placeholder:"Selecione",label:"Selecione",onSelect:function(e,t){C(e)},onRemove:function(e,t){var a=[];w.map((function(e){e.id!=t.id&&a.push(e)})),C(a)},displayValue:"description"})]}):null]})})]})}),Object(m.jsxs)(p.a.Footer,{children:[Object(m.jsx)(x.a,{variant:"secondary",onClick:f,children:"Sair"}),Object(m.jsx)(x.a,{onClick:function(){return $.apply(this,arguments)},variant:"primary",children:"Salvar Altera\xe7\xf5es"})]})]})]})},g=a(555),v=a(554),P=a(608),y=function(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),s=(a[0],a[1],Object(c.useState)(!1)),r=Object(n.a)(s,2),i=r[0],d=r[1],u=function(){return d(!1)};var f=Object(c.useState)(e.data.dataPlan.dados.baseValue),g=Object(n.a)(f,2),v=g[0],y=g[1],S=Object(c.useState)(e.data.dataPlan.dados.description),N=Object(n.a)(S,2),w=N[0],C=N[1],A=Object(c.useState)(e.data.dataPlan.dados.custom),T=Object(n.a)(A,2),k=T[0],z=T[1],F=l.a.get("TokenID"),V=(l.a.get("userType"),{headers:{Authorization:F,Accept:"*/*","Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"PATCH"}});var I=function(e){z(e)};Object(c.useEffect)(Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("http://dashboardbff.oonpayperuse.com.br/plansService/coverages",V).then((function(e){null!=e.data&&(E(e.data),e.data)})).catch((function(e){console.log("erro na api....",e)}));case 2:case"end":return e.stop()}}),e)}))),[]);var R=Object(c.useState)([]),B=Object(n.a)(R,2),D=B[0],E=B[1],H=Object(c.useState)([]),K=Object(n.a)(H,2),X=(K[0],K[1],Object(c.useState)(e.data.dataPlan.dados.coverages)),q=Object(n.a)(X,2),M=q[0],$=q[1],G=e.data.dataPlan.dados.coverages;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.c,{color:"secondary",onClick:function(){d(!0)},size:"sm",variant:"ghost",children:"Editar Plano"}),Object(m.jsxs)(p.a,{show:i,onHide:u,size:"xl",children:[Object(m.jsx)(p.a.Header,{closeButton:!0,children:Object(m.jsx)(p.a.Title,{children:"Adicionar "})}),Object(m.jsx)(p.a.Body,{className:"container-body",children:Object(m.jsxs)(b.R,{children:[Object(m.jsx)(b.j,{children:Object(m.jsx)(P.a,{children:Object(m.jsxs)(P.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(m.jsx)(b.w,{children:"Nome do Plano"}),Object(m.jsx)(b.v,{type:"text",id:"namePlan",onChange:function(e){C(e.target.value)},value:w,placeholder:e.data.dataPlan.dados.description}),Object(m.jsx)("br",{}),0==k?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.w,{children:"Servi\xe7os  "}),Object(m.jsx)(j.a,{options:D,placeholder:"Selecione",selectedValues:G,label:"Selecione",onSelect:function(e,t){$(e)},onRemove:function(e,t){var a=[];M.map((function(e){e.id!=t.id&&a.push(e)})),$(a)},displayValue:"description"})]}):null]})})}),Object(m.jsx)(b.j,{children:Object(m.jsx)(P.a,{children:Object(m.jsxs)(P.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(m.jsx)(b.w,{children:"Valor Base"}),Object(m.jsx)(b.v,{type:"text",id:"valuePlan",onChange:function(e){y(e.target.value)},value:v,placeholder:e.data.dataPlan.dados.baseValue}),Object(m.jsx)("br",{}),Object(m.jsx)(b.w,{children:"Valor por quil\xf4metro"}),Object(m.jsx)(b.v,{type:"number",id:"valueKmPlan",required:!0,min:"0.00",step:".01",placeholder:e.data.dataPlan.dados.valuePerKm}),Object(m.jsx)("br",{}),0==k?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.w,{children:"Plano pode ser personalizado ? "}),Object(m.jsx)(b.u,{type:"radio",name:"person1",onChange:function(){I(!0)},id:"PersonYes",label:"Sim"}),Object(m.jsx)(b.u,{type:"radio",name:"person1",onChange:function(){I(!1)},id:"PersonNo",label:"N\xe3o",defaultChecked:!0})]}):null,1==k?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.w,{children:"Plano pode ser personalizado ? "}),Object(m.jsx)(b.u,{type:"radio",name:"person1",onChange:function(){I(!0)},id:"PersonYes",label:"Sim",defaultChecked:!0}),Object(m.jsx)(b.u,{type:"radio",name:"person1",onChange:function(){I(!1)},id:"PersonNo",label:"N\xe3o"})]}):null]})})})]})}),Object(m.jsxs)(p.a.Footer,{children:[Object(m.jsx)(x.a,{variant:"secondary",onClick:u,children:"Sair"}),Object(m.jsx)(x.a,{onClick:function(){var t=[];null!=M&&M.map((function(e){t.push(e.id)}));var a={id:e.data.dataPlan.dados.id,description:w,coverages:t,baseValue:parseFloat(v),custom:k};console.log(a),o.a.patch("http://dashboardbff.oonpayperuse.com.br/plansService/plans",a,V).then((function(t){d(!1),e.att()})).catch((function(e){console.log("erro na api....",e)}))},variant:"primary",children:"Salvar Altera\xe7\xf5es"})]})]})]})},S=function(e){l.a.get("TokenID");var t=l.a.get("userType");return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.O,{content:Object(m.jsxs)("div",{children:["ADMIN"==t?Object(m.jsx)(y,{data:e,att:function(){e.attComp()}}):null,Object(m.jsx)("br",{})]}),close:!0,placement:"bottom",children:Object(m.jsx)(b.c,{variant:"white",className:"buttonOps",children:Object(m.jsx)(v.a,{icon:g.W,size:"md"})})}),Object(m.jsx)("br",{})]})},N=function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(b.e,{className:"text-center carta",style:{width:"16rem"},children:[Object(m.jsxs)(b.f,{children:[Object(m.jsx)("h2",{children:e.dados.description}),Object(m.jsxs)("h5",{children:["R$ ",e.dados.baseValue]}),Object(m.jsxs)("label",{children:[" R$ ",e.dados.valuePerKm," por km"]}),Object(m.jsx)("hr",{}),e.dados.coverages.map((function(e,t){return Object(m.jsxs)("div",{className:"container-itens-plans",children:[Object(m.jsx)(v.a,{className:"bodyIcon",size:"lg",icon:g.A}),Object(m.jsxs)("label",{className:"bodyTexto",children:[" ",e.description," "]}),Object(m.jsx)("br",{}),Object(m.jsxs)("label",{className:"bodyTextoPrice",children:["R$",e.valuePerKm," "]}),Object(m.jsx)("br",{})]},t)}))]}),Object(m.jsxs)(b.g,{children:[Object(m.jsx)("div",{className:"container-buttonOp",children:Object(m.jsx)(S,{dataPlan:e,attComp:function(){e.attPage()}})}),Object(m.jsxs)("h4",{children:[" XXXX",e.dados.N_ativos]}),Object(m.jsxs)("h6",{children:["Planos ",e.dados.nomePlano]}),Object(m.jsxs)("label",{children:[" ",e.dados.porcentagem," X% a mais que no \xfaltimo m\xeas "]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{})]})]})})};t.default=function(){var e=Object(c.useState)([]),t=Object(n.a)(e,2),a=t[0],s=t[1],r=l.a.get("TokenID"),i=l.a.get("userType"),j={headers:{Authorization:r,"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}};Object(c.useEffect)((function(){o.a.get("http://dashboardbff.oonpayperuse.com.br/plansService/plans",j).then((function(e){s(e.data),console.log(e.data)})).catch((function(e){console.log("error",e),alert("Login expirado"),window.location.reload()}))}),[]);var u=function(){s([]),o.a.get("http://dashboardbff.oonpayperuse.com.br/plansService/plans",j).then((function(e){s(e.data),console.log(e.data)})).catch((function(e){console.log("error",e),alert("Login expirado"),window.location.reload()}))};return""==a?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("h4",{children:[" ",Object(m.jsx)(d.a,{animation:"grow",variant:"info"}),"  "]})}):Object(m.jsxs)("div",{className:"container-plan",children:[Object(m.jsx)(b.J,{colorScheme:"light",className:"bg-light",children:Object(m.jsxs)(b.l,{fluid:!0,children:[Object(m.jsx)(b.K,{href:"#",children:" "}),Object(m.jsxs)(b.t,{className:"d-flex container-search",children:[Object(m.jsx)(b.v,{type:"search",className:"me-2",size:"lg",placeholder:"Procurar"}),Object(m.jsx)(b.c,{type:"submit",size:"sm",className:"btn-pesq",color:"secondary",variant:"outline",children:"Procurar"}),"ADMIN"==i?Object(m.jsx)(f,{attPage:u}):null]})]})}),Object(m.jsx)("div",{className:"container-opcoes",children:a.map((function(e,t){if(t<3)return Object(m.jsx)("div",{className:"container-show-plans",children:Object(m.jsx)(N,{dados:e,attPage:u})},t)}))})]})}}}]);
//# sourceMappingURL=34.d533e856.chunk.js.map